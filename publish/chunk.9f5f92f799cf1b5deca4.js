(window.webpackJsonp=window.webpackJsonp||[]).push([[11,41,42],{164:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-card",class:{"product-card--inactive":t.body._id&&!t.isActive,"product-card--small":t.isSmall},attrs:{"data-product-id":t.body._id,"data-sku":t.body.sku},on:{mouseover:function(e){t.isHovered=!0}}},[a("transition",{attrs:{"enter-active-class":t.transitionClass}},[t.isLoading?t._e():a("section",[t._t("discount-tag",(function(){return[t.isActive&&t.discount>0?a("span",{staticClass:"product-card__offer-stamp"},[a("i",{staticClass:"i-arrow-down"}),t._v(" "),a("b",[t._v(t._s(t.discount))]),t._v("% ")]):t._e()]}),null,{discount:t.discount}),t._t("stamps"),t._t("body",(function(){return[a("a-link",{staticClass:"product-card__link",attrs:{href:"/"+t.body.slug,title:t.name}},[t._t("header"),a("div",{staticClass:"product-card__pictures"},[t.body.pictures&&t.body.pictures.length?t._l(t.body.pictures.slice(0,2).reverse(),(function(e,s){return 1===t.body.pictures.length||1===s||t.isHovered?a("a-picture",{key:s,staticClass:"product-card__picture",attrs:{src:e,"can-calc-height":!1}}):t._e()})):a("a-picture",{staticClass:"product-card__picture"})],2),t._t("title",(function(){return[a(t.headingTag,{tag:"component",staticClass:"product-card__name"},[t._v(" "+t._s(t.name)+" ")])]}))],2)]})),t._t("rating",(function(){return[t._m(0)]})),t.body.available&&t.body.visible?t.isInStock?t.isLogged?t.isWithoutPrice?t._t("without-price",(function(){return[a("p",{staticClass:"badge badge-info mt-auto"},[t._v(" "+t._s(t.i19uponRequest)+" ")])]})):[t._t("prices",(function(){return[a("a-prices",{staticClass:"product-card__prices",attrs:{product:t.body,"installments-option":t.installmentsOption,"discount-option":t.discountOption}})]})),a("div",{staticClass:"product-card__buy fade",on:{click:t.buy}},[t._t("buy",(function(){return[t.buyHtml?a("div",{domProps:{innerHTML:t._s(t.buyHtml)}}):t._e(),a("button",{staticClass:"btn btn-primary",class:t.isSmall?"btn-sm":"btn-block",attrs:{type:"button",disabled:t.isWaitingBuy}},[t.isWaitingBuy?a("span",{staticClass:"product-card__buy-loading spinner-grow spinner-grow-sm",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e(),t._t("buy-button-content",(function(){return[a("i",{staticClass:"i-shopping-bag mr-1"}),t._v(" "+t._s(t.strBuy)+" ")]}))],2)]}))],2)]:a("small",{staticClass:"text-muted"},[a("a",{attrs:{href:"/app/#/account/"}},[t._v("Login")]),t._v(" para ver o pre√ßo ")]):t._t("out-of-stock",(function(){return[a("p",{staticClass:"badge badge-dark mt-auto"},[t._v(" "+t._s(t.i19outOfStock)+" ")])]})):t._t("unavailable",(function(){return[a("p",{staticClass:"badge badge-warning mt-auto"},[t._v(" "+t._s(t.i19unavailable)+" ")])]})),t._t("favorite",(function(){return[a("a",{staticClass:"btn product-card__favorite fade",attrs:{href:t.isLogged?null:t.accountUrl},on:{click:t.toggleFavorite}},[a("i",{staticClass:"i-heart mr-1",class:t.isFavorite?"active":null})])]})),t._t("footer",(function(){return[t.footerHtml?a("div",{domProps:{innerHTML:t._s(t.footerHtml)}}):t._e()]}))],2)]),t.isLoading?[t._t("default"),t.error?a("div",{staticClass:"alert alert-warning small",attrs:{role:"alert"}},[t._v(" "+t._s(t.error)+" ")]):t._e()]:t._e(),a("div",{ref:"quickview"})],2)},i=[function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"product-card__rating",attrs:{"data-sku":t.body.sku},domProps:{innerHTML:t._s(t.ratingHtml)}})}]},179:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clone=void 0,e.clone=function(t){return t?JSON.parse(JSON.stringify(t)):null}},181:function(t,e,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var i in e=arguments[a])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)},i=a(205),n=a(206),o=a(208),r=a(209),c=a(179),l={},u={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},d=[u.VISA,u.MASTERCARD,u.AMERICAN_EXPRESS,u.DINERS_CLUB,u.DISCOVER,u.JCB,u.UNIONPAY,u.MAESTRO,u.ELO,u.MIR,u.HIPER,u.HIPERCARD],p=c.clone(d);function m(t){return l[t]||i[t]}function h(t,e){void 0===e&&(e=!1);var a=p.indexOf(t);if(!e&&-1===a)throw new Error('"'+t+'" is not a supported card type.');return a}function g(t){var e=[];if(!o.isValidInputType(t))return e;if(0===t.length)return p.map((function(t){return c.clone(m(t))}));p.forEach((function(a){var s=m(a);n.addMatchingCardsToResults(t,s,e)}));var a=r.findBestMatch(e);return a?[a]:e}g.getTypeInfo=function(t){return c.clone(m(t))},g.removeCard=function(t){var e=h(t);p.splice(e,1)},g.addCard=function(t){var e=h(t.type,!0);l[t.type]=t,-1===e&&p.push(t.type)},g.updateCard=function(t,e){var a=l[t]||i[t];if(!a)throw new Error('"'+t+"\" is not a recognized type. Use `addCard` instead.'");if(e.type&&a.type!==e.type)throw new Error("Cannot overwrite type parameter.");var n=c.clone(a);n=s(s({},n),e),l[n.type]=n},g.changeOrder=function(t,e){var a=h(t);p.splice(a,1),p.splice(e,0,t)},g.resetModifications=function(){p=c.clone(d),l={}},g.types=u,t.exports=g},205:function(t,e,a){"use strict";t.exports={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}}},206:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchingCardsToResults=void 0;var s=a(179),i=a(207);e.addMatchingCardsToResults=function(t,e,a){var n,o;for(n=0;n<e.patterns.length;n++){var r=e.patterns[n];if(i.matches(t,r)){var c=s.clone(e);o=Array.isArray(r)?String(r[0]).length:String(r).length,t.length>=o&&(c.matchStrength=o),a.push(c);break}}}},207:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matches=void 0,e.matches=function(t,e){return Array.isArray(e)?function(t,e,a){var s=String(e).length,i=t.substr(0,s),n=parseInt(i,10);return e=parseInt(String(e).substr(0,i.length),10),a=parseInt(String(a).substr(0,i.length),10),n>=e&&n<=a}(t,e[0],e[1]):function(t,e){return(e=String(e)).substring(0,t.length)===t.substring(0,e.length)}(t,e)}},208:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidInputType=void 0,e.isValidInputType=function(t){return"string"==typeof t||t instanceof String}},209:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findBestMatch=void 0,e.findBestMatch=function(t){return function(t){var e=t.filter((function(t){return t.matchStrength})).length;return e>0&&e===t.length}(t)?t.reduce((function(t,e){return t?Number(t.matchStrength)<Number(e.matchStrength)?e:t:e})):null}},231:function(t,e,a){"use strict";e.a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;t.offsetParent;)e+=t.offsetTop,t=t.offsetParent;return window.scroll({top:e,behavior:"smooth"})}},243:function(t,e,a){"use strict";var s=a(24),i=a(25),n=a(31);function o(t){return String(t).replace(/[^\d]/g,"")}function r(t,e){var a=o(t),s="number"==typeof e?Array(a.length).fill(0).map((function(t,a){return e-a})):e;return a.split("").reduce((function(t,e,a){return t+parseInt(e,10)*s[a]}),0)}var c=["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999"],l=[9,10];function u(t){if(!t||"string"!=typeof t)return!1;var e=o(t);return function(t){return/^\d{3}\.?\d{3}\.?\d{3}-?\d{2}$/.test(t)}(t)&&!function(t){return c.indexOf(t)>=0}(e)&&function(t){return l.every((function(e){var a=r(t.slice(0,e).split("").reduce((function(t,e){return t+e}),""),e+1)%11;return t[e]===String(a<2?0:11-a)}))}(e)}var d=["00000000000000","11111111111111","22222222222222","33333333333333","44444444444444","55555555555555","66666666666666","77777777777777","88888888888888","99999999999999"],p=[12,13],m=[5,4,3,2,9,8,7,6,5,4,3,2];function h(t){if(!t||"string"!=typeof t)return!1;var e,a=o(t);return function(t){return/^\d{2}\.?\d{3}\.?\d{3}\/?\d{4}-?\d{2}$/.test(t)}(t)&&(e=a,!(d.indexOf(e)>=0))&&function(t){var e=[].concat(m);return p.every((function(a){a===p[p.length-1]&&e.unshift(6);var s=r(t.slice(0,a).split("").reduce((function(t,e){return t+e}),""),e)%11;return t[a]===String(s<2?0:11-s)}))}(a)}var g=a(225),f=a.n(g);const A=i.$ecomConfig.get("country_code");var _={name:"InputDocNumber",components:{CleaveInput:f.a},props:{value:{type:[String,Number],required:!0},isCompany:Boolean},computed:{placeholder(){return"BR"===A?this.isCompany?"CNPJ":"CPF":Object(n.a)(s.mb)},pattern(){return"BR"===A?this.isCompany?"[\\d]{2}\\..{15}":"[\\d]{3}\\..{10}":"[\\d]+{9,19}"},isInvalid(){if("BR"===A){const t=this.localValue.toString().replace(/D/g,"");if(this.isCompany){if(14===t.length)return!h(this.localValue)}else if(11===t.length)return!u(this.localValue)}return!1},localValue:{get(){return this.value},set(t){this.$emit("input",t)}},cleaveOptions(){return"BR"===A?this.isCompany?{blocks:[2,3,3,4,2],delimiters:[".",".","/","-"]}:{blocks:[3,3,3,2],delimiters:[".",".","-"]}:{blocks:[30]}}}},v=a(40),y=Object(v.a)(_,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("cleave-input",{staticClass:"form-control",class:t.isInvalid?"is-invalid":null,attrs:{type:"tel",pattern:t.pattern,options:t.cleaveOptions,placeholder:t.placeholder},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})}),[],!1,null,null,null);e.a=y.exports},251:function(t,e,a){var s=a(276);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(160).default)("5b727e7e",s,!0,{})},252:function(t,e,a){"use strict";e.a=t=>"function"==typeof t.reportValidity?t.reportValidity():t.checkValidity()},253:function(t,e,a){var s=a(280);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(160).default)("6bdd55be",s,!0,{})},254:function(t,e,a){var s=a(282);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(160).default)("537a07d3",s,!0,{})},255:function(t,e,a){var s=a(284);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(160).default)("6cf2fc61",s,!0,{})},258:function(t,e,a){"use strict";var s=a(24),i=a(25),n=a(31),o=a(71),r=a(88),c=a(87),l=a(28),u=a.n(l),d=a(252),p=a(243),m=a(278),h=a.n(m),g=a(225),f=a.n(g);const A=i.$ecomConfig.get("country_code");var _={name:"InputPhone",components:{CleaveInput:f.a,CleavePhone:h.a},props:{value:{type:[String,Number],required:!0}},computed:{placeholder:()=>"BR"===A?"11 9 9999-9999":"+1 999 9999 9999",localValue:{get(){return this.value},set(t){this.$emit("input",t)}},cleaveOptions:()=>"BR"===A?{phone:!0,phoneRegionCode:A}:{phone:!0}}},v=a(40),y=Object(v.a)(_,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("cleave-input",{staticClass:"form-control",attrs:{type:"tel",pattern:"(\\+[\\d]{2}\\s?)?([1-9][\\d]+)?([\\s\\-]?[\\d]{4,}){2,}",options:t.cleaveOptions,placeholder:t.placeholder},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})}),[],!1,null,null,null).exports,C=a(262);const b=i.$ecomConfig.get("country_code"),{sessionStorage:k}=window,w="ecomCustomerAccount",B=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":invalid";return document.querySelectorAll(`.account-form input${t}`).length},x="was-validated";var P={name:"AccountForm",components:{InputDocNumber:p.a,InputPhone:y,InputDate:C.a},props:{isShort:Boolean,isGuestAccess:Boolean,customer:{type:Object,default:()=>({})},privacyPolicyUrl:{type:String,default:"object"==typeof window?window.privacyPolicyUrl:null},hasSubmitBtn:{type:Boolean,default:!0},btnText:{type:String,default:()=>Object(n.a)(s.yd)}},data(){return{localCustomer:u()(this.customer),fullName:Object(o.a)(this.customer),storageInterval:null,btnLabel:this.btnText,isPrivacyOptIn:Boolean(this.customer._id)}},computed:{i19a:()=>Object(n.a)(s.f),i19birthdate:()=>Object(n.a)(s.w),i19cellphone:()=>Object(n.a)(s.J),i19companyRegistration:()=>Object(n.a)(s.T),i19contactPhone:()=>Object(n.a)(s.X),i19corporateName:()=>Object(n.a)(s.db),i19docNumber:()=>Object(n.a)(s.mb),i19emailAddress:()=>Object(n.a)(s.pb),i19female:()=>Object(n.a)(s.yb),i19fullName:()=>Object(n.a)(s.Hb),i19Gender:()=>Object(n.a)(s.c),i19inscriptionNumber:()=>Object(n.a)(s.Tb),i19InscriptionType:()=>Object(n.a)(s.d),i19iReadAndAccept:()=>Object(n.a)(s.Qb),i19male:()=>Object(n.a)(s.jc),i19nickname:()=>Object(n.a)(s.vc),i19emailMarketingOptInMsg:()=>Object(n.a)(s.qb),i19personalRegistration:()=>Object(n.a)(s.Wc),i19privacyPolicy:()=>Object(n.a)(s.dd),birthdate:{get(){return Object(r.a)(this.localCustomer)},set(t){if(8===t.length){const e=(e,a)=>parseInt(t.substr(e,a),10);let a,s,i;"BR"===b?(a=e(0,2),s=e(2,2),i=e(4,4)):(a=e(6,2),s=e(4,2),i=e(0,4));const n=(new Date).getFullYear();i<n-125?i=n-125:i>n&&(i=n),this.localCustomer.birth_date={day:a,month:s,year:i}}}},phoneNumber:{get(){return this.getPhoneStr(0)},set(t){this.localCustomer.phones[0]=this.parsePhoneStr(t)}},secondPhoneNumber:{get(){return this.getPhoneStr(1)},set(t){const{phones:e}=this.localCustomer;e[e.length>0?1:0]=this.parsePhoneStr(t)}}},methods:{getPhoneStr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{phones:e}=this.localCustomer;return e[t]?Object(c.a)(this.localCustomer.phones[t]):""},parsePhoneStr(t){let e,a;"+"===t.charAt(0)?(e=parseInt(t.substr(1,2)),a=t.substr(3)):a=t;const s={number:a};return e>=1&&e<=999&&(s.country_code=e),s},update(){this.$el.checkValidity()&&this.$emit("update:customer",this.localCustomer)},mergeLocalCustomer(t){for(const e in t)if(t[e]){const a=this.localCustomer[e];(!a||"object"==typeof a&&!Object.keys(a).length||["addresses","orders","loyalty_points_entries"].includes(e))&&("name"===e?this.fullName=Object(o.a)({name:t[e]}):this.localCustomer[e]=t[e])}},saveToStorage(){k.setItem(w,JSON.stringify(this.localCustomer))},submit(){this.$nextTick((()=>{const t=this.$el;B(".is-invalid")?t.classList.remove(x):(this.localCustomer.display_name||(this.localCustomer.display_name=this.localCustomer.name.given_name),Object(d.a)(t)?(this.saveToStorage(),this.save()):t.classList.contains(x)&&!B()&&this.save(),t.classList.add(x))}))},save(){this.update(),this.$emit("submit",this.localCustomer),this.btnLabel=Object(n.a)(s.zd)+"...",setTimeout((()=>{this.btnLabel=this.btnText}),3e3)}},watch:{fullName(t){const e=t.replace(/\s{2,}/g," ");if(e!==this.fullName)this.fullName=e;else{const t=e.trim().split(" ");this.localCustomer.name={given_name:t.shift()};const{name:a}=this.localCustomer;t.length&&(a.family_name=t.pop(),t.length&&(a[a.family_name?"middle_name":"family_name"]=t.join(" ")))}},customer:{handler(){this.mergeLocalCustomer(this.customer)},deep:!0},localCustomer:{handler(){this.isGuestAccess&&this.$nextTick(this.update)},deep:!0}},created(){const t=JSON.parse(k.getItem(w));t&&this.mergeLocalCustomer(t),this.storageInterval=setInterval((()=>{Object.keys(this.localCustomer).length&&this.saveToStorage()}),7e3),this.localCustomer._id||(this.localCustomer.accepts_marketing=!0)},mounted(){const t=this.$el.querySelectorAll("input");for(let e=0;e<t.length;e++)if(!t[e].value){t[e].focus();break}},destroyed(){clearInterval(this.storageInterval)}},O=P,S=(a(279),Object(v.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"account-form needs-validation",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"account-form-email"}},[t._v(" "+t._s(t.i19emailAddress)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.localCustomer.main_email,expression:"localCustomer.main_email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",pattern:"\\S+@\\S+\\.\\S{2,}",id:"account-form-email",placeholder:"email@mail.com",required:""},domProps:{value:t.localCustomer.main_email},on:{input:function(e){e.target.composing||t.$set(t.localCustomer,"main_email",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-8"},[a("label",{attrs:{for:"account-form-name"}},[t._v(" "+t._s(t.i19fullName)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.fullName,expression:"fullName",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",pattern:"[^\\d\\s]{2,}[\\s][^\\d\\s]{2,}.*",id:"account-form-name",required:""},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.isShort?t._e():a("div",{staticClass:"form-group col-lg-4"},[a("label",{attrs:{for:"account-form-nickname"}},[t._v(" "+t._s(t.i19nickname)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.localCustomer.display_name,expression:"localCustomer.display_name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",pattern:"[^\\d\\s]{2,}.*",id:"account-form-nickname"},domProps:{value:t.localCustomer.display_name},on:{input:function(e){e.target.composing||t.$set(t.localCustomer,"display_name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t.isShort?t._e():a("div",{staticClass:"form-group"},t._l(t.i19Gender,(function(e,s){return a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.localCustomer.gender,expression:"localCustomer.gender"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"account-form-gender",id:"account-form-gender-"+s},domProps:{value:s,checked:t._q(t.localCustomer.gender,s)},on:{change:function(e){return t.$set(t.localCustomer,"gender",s)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"account-form-gender-"+s}},[t._v(" "+t._s(e)+" ")])])})),0),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-4"},[a("label",{attrs:{for:"account-form-phone"}},[t._v(" "+t._s(t.i19contactPhone)+" ")]),a("input-phone",{attrs:{id:"account-form-phone",required:""},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}})],1),t.isShort?t._e():a("div",{staticClass:"form-group col-lg-4"},[a("label",{attrs:{for:"account-form-cell"}},[t._v(" "+t._s(t.i19cellphone)+" ")]),a("input-phone",{attrs:{id:"account-form-cell"},model:{value:t.secondPhoneNumber,callback:function(e){t.secondPhoneNumber=e},expression:"secondPhoneNumber"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isGuestAccess,expression:"!isGuestAccess"}],staticClass:"form-group col-lg-4"},[a("label",{attrs:{for:"account-form-birth"}},[t._v(" "+t._s(t.i19birthdate)+" ")]),a("input-date",{attrs:{id:"account-form-birth"},model:{value:t.birthdate,callback:function(e){t.birthdate=e},expression:"birthdate"}})],1)]),a("div",{staticClass:"form-group"},t._l({p:t.i19personalRegistration,j:t.i19companyRegistration},(function(e,s){return a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.localCustomer.registry_type,expression:"localCustomer.registry_type"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"account-form-type",id:"account-form-type-"+s,required:""},domProps:{value:s,checked:t._q(t.localCustomer.registry_type,s)},on:{change:function(e){return t.$set(t.localCustomer,"registry_type",s)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"account-form-type-"+s}},[t._v(" "+t._s(e)+" ")])])})),0),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"account-form-doc"}},[t._v(" "+t._s(t.i19docNumber)+" ")]),a("input-doc-number",{attrs:{id:"account-form-doc",isCompany:"p"!==t.localCustomer.registry_type,required:""},model:{value:t.localCustomer.doc_number,callback:function(e){t.$set(t.localCustomer,"doc_number",e)},expression:"localCustomer.doc_number"}})],1)]),"p"!==t.localCustomer.registry_type?a("div",{staticClass:"account-form__legal-person"},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-8"},[a("label",{attrs:{for:"account-form-name"}},[t._v(" "+t._s(t.i19corporateName)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.localCustomer.corporate_name,expression:"localCustomer.corporate_name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",pattern:"[\\w-]{1,}[\\s][\\w-]{1,}.*",minlength:"4",id:"account-form-name",required:""},domProps:{value:t.localCustomer.corporate_name},on:{input:function(e){e.target.composing||t.$set(t.localCustomer,"corporate_name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("div",{staticClass:"form-row account-form__inscription"},[a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"account-form-inscription"}},[t._v(" "+t._s(t.i19inscriptionNumber)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.localCustomer.inscription_number,expression:"localCustomer.inscription_number",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",maxlength:"50",id:"account-form-inscription"},domProps:{value:t.localCustomer.inscription_number},on:{input:function(e){e.target.composing||t.$set(t.localCustomer,"inscription_number",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group col-lg-5 pb-lg-2 ml-lg-2"},t._l(t.i19InscriptionType,(function(e,s){return a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.localCustomer.inscription_type,expression:"localCustomer.inscription_type"}],staticClass:"custom-control-input",attrs:{type:"radio",name:"account-form-gender",id:"account-form-gender-"+s},domProps:{value:s,checked:t._q(t.localCustomer.inscription_type,s)},on:{change:function(e){return t.$set(t.localCustomer,"inscription_type",s)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"account-form-gender-"+s}},[t._v(" "+t._s(e)+" ")])])})),0)])]):t._e(),a("div",{staticClass:"form-group"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.localCustomer.accepts_marketing,expression:"localCustomer.accepts_marketing"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"account-form-marketing"},domProps:{checked:Array.isArray(t.localCustomer.accepts_marketing)?t._i(t.localCustomer.accepts_marketing,null)>-1:t.localCustomer.accepts_marketing},on:{change:function(e){var a=t.localCustomer.accepts_marketing,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&t.$set(t.localCustomer,"accepts_marketing",a.concat([null])):n>-1&&t.$set(t.localCustomer,"accepts_marketing",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.localCustomer,"accepts_marketing",i)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"account-form-marketing"}},[t._v(" "+t._s(t.i19emailMarketingOptInMsg)+" ")])])]),t.isGuestAccess?t._e():[t.privacyPolicyUrl?a("div",{staticClass:"form-group"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isPrivacyOptIn,expression:"isPrivacyOptIn"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"account-form-privacy-policy",required:""},domProps:{checked:Array.isArray(t.isPrivacyOptIn)?t._i(t.isPrivacyOptIn,null)>-1:t.isPrivacyOptIn},on:{change:function(e){var a=t.isPrivacyOptIn,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.isPrivacyOptIn=a.concat([null])):n>-1&&(t.isPrivacyOptIn=a.slice(0,n).concat(a.slice(n+1)))}else t.isPrivacyOptIn=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"account-form-privacy-policy"}},[t._v(" "+t._s(t.i19iReadAndAccept)+" "+t._s(t.i19a)+" "),a("a",{attrs:{href:t.privacyPolicyUrl,target:"_blank"},domProps:{textContent:t._s(t.i19privacyPolicy)}}),t._v(". ")])])]):t._e()],t.hasSubmitBtn?a("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"i-check mr-1"}),t._v(" "+t._s(t.btnLabel)+" ")]):t._e()],2)}),[],!1,null,null,null));e.a=S.exports},262:function(t,e,a){"use strict";var s=a(25),i=a(225),n=a.n(i);const o=s.$ecomConfig.get("country_code");var r={name:"InputDate",components:{CleaveInput:n.a},props:{value:{type:[String,Number],required:!0}},computed:{placeholder:()=>"BR"===o?"dd/mm/aaaa":"yyyy-mm-dd",localValue:{get(){return this.value},set(t){this.$emit("input",t)}},cleaveOptions:()=>"BR"===o?{date:!0,delimiter:"/",datePattern:["d","m","Y"]}:{date:!0,delimiter:"-",datePattern:["Y","m","d"]}}},c=a(40),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("cleave-input",{staticClass:"form-control",attrs:{type:"tel",pattern:"[0-9\\/\\-]{10}",options:t.cleaveOptions,placeholder:t.placeholder},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})}),[],!1,null,null,null);e.a=l.exports},275:function(t,e,a){"use strict";a(251)},276:function(t,e,a){(e=a(159)(!0)).push([t.i,'.login{margin:0 auto;max-width:800px;text-align:center}.login__email-btn{overflow:hidden;white-space:nowrap}.login__confirm{margin:var(--spacer-3) auto 0;max-width:525px}.login__confirm .alert{font-size:var(--font-size-sm)}.login__hello:after{color:var(--gray);content:" :)"}.login__info{background:var(--light);border-bottom:5px solid var(--success);border-radius:var(--border-radius);margin:var(--spacer-4) auto 0;max-width:650px;padding:var(--spacer-3) var(--spacer-4);text-align:left}.login__info-title{color:var(--secondary);margin-bottom:var(--spacer-2)}.login__info-title i,.login__info-title svg{margin-right:var(--spacer-2)}.login__info-row{color:var(--gray);font-size:var(--font-size-sm)}.login__info-row i,.login__info-row svg{color:var(--success);margin-right:var(--spacer-1)}.login__oauth{margin-top:var(--spacer-4)}.login__btn{color:#fff;line-height:1.2rem;padding:.5rem 1.2rem .7rem;text-align:left}.login__btn:hover{color:#fff}.login__btn:focus{box-shadow:none}@media(max-width:575.98px){.login__btn{display:block;margin-left:0;padding:.8rem;text-align:right;width:100%}.login__btn:not(:first-of-type){margin-top:var(--spacer-2)}.login__btn i,.login__btn svg{float:left}}@media(min-width:576px){.login__btn:not(:first-of-type){margin-left:var(--spacer-2)}.login__btn>small{display:block;margin-bottom:var(--spacer-1);text-align:center}}.login__btn--facebook{background:#3b5999;border-color:#2f4d8a}.login__btn--facebook:hover{background:#274480;border-color:#274480}.login__btn--google{background:#cb4023;border-color:#be3419}.login__btn--google:hover{background:#c1361a;border-color:#c1361a}.login__btn--windowslive{background:#329ffc;border-color:#2996f2}.login__btn--windowslive:hover{background:#1f8ce9;border-color:#1f8ce9}.login__popup-overlay{align-items:flex-end;background:hsla(0,0%,100%,.9);display:flex;flex-direction:row;height:100vh;justify-content:space-around;left:0;padding:2rem;position:fixed;top:0;width:100vw;z-index:2100}',"",{version:3,sources:["LoginBlock.scss"],names:[],mappings:"AAAA,OAAO,aAAa,CAAC,eAAe,CAAC,iBAAiB,CAAC,kBAAkB,eAAe,CAAC,kBAAkB,CAAC,gBAAgB,6BAA6B,CAAC,eAAe,CAAC,uBAAuB,6BAA6B,CAAC,oBAAoB,iBAAiB,CAAC,aAAa,CAAC,aAAa,uBAAuB,CAAC,sCAAsC,CAAC,kCAAkC,CAAC,6BAA6B,CAAC,eAAe,CAAC,uCAAuC,CAAC,eAAe,CAAC,mBAAmB,sBAAsB,CAAC,6BAA6B,CAAC,4CAA4C,4BAA4B,CAAC,iBAAiB,iBAAiB,CAAC,6BAA6B,CAAC,wCAAwC,oBAAoB,CAAC,4BAA4B,CAAC,cAAc,0BAA0B,CAAC,YAAY,UAAU,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,eAAe,CAAC,kBAAkB,UAAU,CAAC,kBAAkB,eAAe,CAAC,2BAA2B,YAAY,aAAa,CAAC,aAAa,CAAC,aAAa,CAAC,gBAAgB,CAAC,UAAU,CAAC,gCAAgC,0BAA0B,CAAC,8BAA8B,UAAU,CAAC,CAAC,wBAAwB,gCAAgC,2BAA2B,CAAC,kBAAkB,aAAa,CAAC,6BAA6B,CAAC,iBAAiB,CAAC,CAAC,sBAAsB,kBAAkB,CAAC,oBAAoB,CAAC,4BAA4B,kBAAkB,CAAC,oBAAoB,CAAC,oBAAoB,kBAAkB,CAAC,oBAAoB,CAAC,0BAA0B,kBAAkB,CAAC,oBAAoB,CAAC,yBAAyB,kBAAkB,CAAC,oBAAoB,CAAC,+BAA+B,kBAAkB,CAAC,oBAAoB,CAAC,sBAAsB,oBAAoB,CAAC,6BAA6B,CAAC,YAAY,CAAC,kBAAkB,CAAC,YAAY,CAAC,4BAA4B,CAAC,MAAM,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY",file:"LoginBlock.scss",sourcesContent:['.login{margin:0 auto;max-width:800px;text-align:center}.login__email-btn{overflow:hidden;white-space:nowrap}.login__confirm{margin:var(--spacer-3) auto 0;max-width:525px}.login__confirm .alert{font-size:var(--font-size-sm)}.login__hello:after{color:var(--gray);content:" :)"}.login__info{background:var(--light);border-bottom:5px solid var(--success);border-radius:var(--border-radius);margin:var(--spacer-4) auto 0;max-width:650px;padding:var(--spacer-3) var(--spacer-4);text-align:left}.login__info-title{color:var(--secondary);margin-bottom:var(--spacer-2)}.login__info-title i,.login__info-title svg{margin-right:var(--spacer-2)}.login__info-row{color:var(--gray);font-size:var(--font-size-sm)}.login__info-row i,.login__info-row svg{color:var(--success);margin-right:var(--spacer-1)}.login__oauth{margin-top:var(--spacer-4)}.login__btn{color:#fff;line-height:1.2rem;padding:.5rem 1.2rem .7rem;text-align:left}.login__btn:hover{color:#fff}.login__btn:focus{box-shadow:none}@media(max-width:575.98px){.login__btn{display:block;margin-left:0;padding:.8rem;text-align:right;width:100%}.login__btn:not(:first-of-type){margin-top:var(--spacer-2)}.login__btn i,.login__btn svg{float:left}}@media(min-width:576px){.login__btn:not(:first-of-type){margin-left:var(--spacer-2)}.login__btn>small{display:block;margin-bottom:var(--spacer-1);text-align:center}}.login__btn--facebook{background:#3b5999;border-color:#2f4d8a}.login__btn--facebook:hover{background:#274480;border-color:#274480}.login__btn--google{background:#cb4023;border-color:#be3419}.login__btn--google:hover{background:#c1361a;border-color:#c1361a}.login__btn--windowslive{background:#329ffc;border-color:#2996f2}.login__btn--windowslive:hover{background:#1f8ce9;border-color:#1f8ce9}.login__popup-overlay{align-items:flex-end;background:hsla(0,0%,100%,.9);display:flex;flex-direction:row;height:100vh;justify-content:space-around;left:0;padding:2rem;position:fixed;top:0;width:100vw;z-index:2100}']}]),t.exports=e},277:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.expirationYear=void 0;function s(t,e,a){return{isValid:t,isPotentiallyValid:e,isCurrentYear:a||!1}}e.expirationYear=function(t,e){var a;if(void 0===e&&(e=19),"string"!=typeof t)return s(!1,!1);if(""===t.replace(/\s/g,""))return s(!1,!0);if(!/^\d*$/.test(t))return s(!1,!1);var i=t.length;if(i<2)return s(!1,!0);var n=(new Date).getFullYear();if(3===i)return s(!1,t.slice(0,2)===String(n).slice(0,2));if(i>4)return s(!1,!1);var o=parseInt(t,10),r=Number(String(n).substr(2,2)),c=!1;if(2===i){if(String(n).substr(0,2)===t)return s(!1,!0);a=r===o,c=o>=r&&o<=r+e}else 4===i&&(a=n===o,c=o>=n&&o<=n+e);return s(c,c,a)}},278:function(t,e,a){(function(t){(function(){function t(t,e){var a,s=t.split("."),i=D;s[0]in i||!i.execScript||i.execScript("var "+s[0]);for(;s.length&&(a=s.shift());)s.length||void 0===e?i=i[a]?i[a]:i[a]={}:i[a]=e}function e(t,e){function a(){}a.prototype=e.prototype,t.M=e.prototype,t.prototype=new a,t.prototype.constructor=t,t.N=function(t,a,s){for(var i=Array(arguments.length-2),n=2;n<arguments.length;n++)i[n-2]=arguments[n];return e.prototype[a].apply(t,i)}}function a(t,e){null!=t&&this.a.apply(this,arguments)}function s(t){t.b=""}function i(t,e){return t>e?1:t<e?-1:0}function n(t,e){this.b=t,this.a={};for(var a=0;a<e.length;a++){var s=e[a];this.a[s.b]=s}}function o(t){return t=function(t){var e,a=[],s=0;for(e in t)a[s++]=t[e];return a}(t.a),function(t,e){t.sort(e||i)}(t,(function(t,e){return t.b-e.b})),t}function r(t,e){switch(this.b=t,this.g=!!e.v,this.a=e.c,this.i=e.type,this.h=!1,this.a){case z:case U:case F:case q:case Y:case V:case R:this.h=!0}this.f=e.defaultValue}function c(){this.a={},this.f=this.j().a,this.b=this.g=null}function l(t,e){for(var a=o(t.j()),s=0;s<a.length;s++){var i=(r=a[s]).b;if(null!=e.a[i]){t.b&&delete t.b[r.b];var n=11==r.a||10==r.a;if(r.g)for(var r=u(e,i)||[],c=0;c<r.length;c++){var d=t,p=i,m=n?r[c].clone():r[c];d.a[p]||(d.a[p]=[]),d.a[p].push(m),d.b&&delete d.b[p]}else r=u(e,i),n?(n=u(t,i))?l(n,r):h(t,i,r.clone()):h(t,i,r)}}}function u(t,e){var a=t.a[e];if(null==a)return null;if(t.g){if(!(e in t.b)){var s=t.g,i=t.f[e];if(null!=a)if(i.g){for(var n=[],o=0;o<a.length;o++)n[o]=s.b(i,a[o]);a=n}else a=s.b(i,a);return t.b[e]=a}return t.b[e]}return a}function d(t,e,a){var s=u(t,e);return t.f[e].g?s[a||0]:s}function p(t,e){var a;if(null!=t.a[e])a=d(t,e,void 0);else t:{if(void 0===(a=t.f[e]).f){var s=a.i;if(s===Boolean)a.f=!1;else if(s===Number)a.f=0;else{if(s!==String){a=new s;break t}a.f=a.h?"0":""}}a=a.f}return a}function m(t,e){return t.f[e].g?null!=t.a[e]?t.a[e].length:0:null!=t.a[e]?1:0}function h(t,e,a){t.a[e]=a,t.b&&(t.b[e]=a)}function g(t,e){var a,s=[];for(a in e)0!=a&&s.push(new r(a,e[a]));return new n(t,s)}function f(){c.call(this)}function A(){c.call(this)}function _(){c.call(this)}function v(){}function y(){}function C(){}function b(){this.a={}}function k(t){return 0==t.length||at.test(t)}function w(t,e){if(null==e)return null;e=e.toUpperCase();var a=t.a[e];if(null==a){if(null==(a=X[e]))return null;a=(new C).a(_.j(),a),t.a[e]=a}return a}function B(t){return null==(t=K[t])?"ZZ":t[0]}function x(t){this.H=RegExp("‚Äà"),this.C="",this.m=new a,this.w="",this.i=new a,this.u=new a,this.l=!0,this.A=this.o=this.F=!1,this.G=b.b(),this.s=0,this.b=new a,this.B=!1,this.h="",this.a=new a,this.f=[],this.D=t,this.J=this.g=P(this,this.D)}function P(t,e){var a;if(null!=e&&isNaN(e)&&e.toUpperCase()in X){if(null==(a=w(t.G,e)))throw Error("Invalid region code: "+e);a=p(a,10)}else a=0;return null!=(a=w(t.G,B(a)))?a:st}function O(t){for(var e=t.f.length,a=0;a<e;++a){var i,n=t.f[a],o=p(n,1);if(t.w==o)return!1;i=t;var r=p(l=n,1);if(-1!=r.indexOf("|"))i=!1;else{var c;r=(r=r.replace(it,"\\d")).replace(nt,"\\d"),s(i.m),c=i;var l=p(l,2),u="999999999999999".match(r)[0];u.length<c.a.b.length?c="":c=(c=u.replace(new RegExp(r,"g"),l)).replace(RegExp("9","g"),"‚Äà"),0<c.length?(i.m.a(c),i=!0):i=!1}if(i)return t.w=o,t.B=rt.test(d(n,4)),t.s=0,!0}return t.l=!1}function S(t,e){for(var a=[],s=e.length-3,i=t.f.length,n=0;n<i;++n){var o=t.f[n];0==m(o,3)?a.push(t.f[n]):(o=d(o,3,Math.min(s,m(o,3)-1)),0==e.search(o)&&a.push(t.f[n]))}t.f=a}function j(t){return t.l=!0,t.A=!1,t.f=[],t.s=0,s(t.m),t.w="",I(t)}function $(t){for(var e=t.a.toString(),a=t.f.length,s=0;s<a;++s){var i=t.f[s],n=p(i,1);if(new RegExp("^(?:"+n+")$").test(e))return t.B=rt.test(d(i,4)),N(t,e=e.replace(new RegExp(n,"g"),d(i,2)))}return""}function N(t,e){var a=t.b.b.length;return t.B&&0<a&&" "!=t.b.toString().charAt(a-1)?t.b+" "+e:t.b+e}function I(t){var e=t.a.toString();if(3<=e.length){for(var a=t.o&&0==t.h.length&&0<m(t.g,20)?u(t.g,20)||[]:u(t.g,19)||[],s=a.length,i=0;i<s;++i){var n=a[i];0<t.h.length&&k(p(n,4))&&!d(n,6)&&null==n.a[5]||(0!=t.h.length||t.o||k(p(n,4))||d(n,6))&&ot.test(p(n,2))&&t.f.push(n)}return S(t,e),0<(e=$(t)).length?e:O(t)?L(t):t.i.toString()}return N(t,e)}function L(t){var e=t.a.toString(),a=e.length;if(0<a){for(var s="",i=0;i<a;i++)s=E(t,e.charAt(i));return t.l?N(t,s):t.i.toString()}return t.b.toString()}function T(t){var e,a=t.a.toString(),i=0;return 1!=d(t.g,10)?e=!1:e="1"==(e=t.a.toString()).charAt(0)&&"0"!=e.charAt(1)&&"1"!=e.charAt(1),e?(i=1,t.b.a("1").a(" "),t.o=!0):null!=t.g.a[15]&&(e=new RegExp("^(?:"+d(t.g,15)+")"),null!=(e=a.match(e))&&null!=e[0]&&0<e[0].length&&(t.o=!0,i=e[0].length,t.b.a(a.substring(0,i)))),s(t.a),t.a.a(a.substring(i)),a.substring(0,i)}function G(t){var e=t.u.toString(),a=new RegExp("^(?:\\+|"+d(t.g,11)+")");return null!=(a=e.match(a))&&null!=a[0]&&0<a[0].length&&(t.o=!0,a=a[0].length,s(t.a),t.a.a(e.substring(a)),s(t.b),t.b.a(e.substring(0,a)),"+"!=e.charAt(0)&&t.b.a(" "),!0)}function M(t){if(0==t.a.b.length)return!1;var e,i=new a;t:{if(0!=(e=t.a.toString()).length&&"0"!=e.charAt(0))for(var n,o=e.length,r=1;3>=r&&r<=o;++r)if((n=parseInt(e.substring(0,r),10))in K){i.a(e.substring(r)),e=n;break t}e=0}return 0!=e&&(s(t.a),t.a.a(i.toString()),"001"==(i=B(e))?t.g=w(t.G,""+e):i!=t.D&&(t.g=P(t,i)),t.b.a(""+e).a(" "),t.h="",!0)}function E(t,e){if(0<=(i=t.m.toString()).substring(t.s).search(t.H)){var a=i.search(t.H),i=i.replace(t.H,e);return s(t.m),t.m.a(i),t.s=a,i.substring(0,t.s+1)}return 1==t.f.length&&(t.l=!1),t.w="",t.i.toString()}var D=this;a.prototype.b="",a.prototype.set=function(t){this.b=""+t},a.prototype.a=function(t,e,a){if(this.b+=String(t),null!=e)for(var s=1;s<arguments.length;s++)this.b+=arguments[s];return this},a.prototype.toString=function(){return this.b};var R=1,V=2,z=3,U=4,F=6,q=16,Y=18;c.prototype.set=function(t,e){h(this,t.b,e)},c.prototype.clone=function(){var t=new this.constructor;return t!=this&&(t.a={},t.b&&(t.b={}),l(t,this)),t},e(f,c);var H=null;e(A,c);var W=null;e(_,c);var Z=null;f.prototype.j=function(){var t=H;return t||(H=t=g(f,{0:{name:"NumberFormat",I:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,c:9,type:String},2:{name:"format",required:!0,c:9,type:String},3:{name:"leading_digits_pattern",v:!0,c:9,type:String},4:{name:"national_prefix_formatting_rule",c:9,type:String},6:{name:"national_prefix_optional_when_formatting",c:8,defaultValue:!1,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",c:9,type:String}})),t},f.j=f.prototype.j,A.prototype.j=function(){var t=W;return t||(W=t=g(A,{0:{name:"PhoneNumberDesc",I:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",c:9,type:String},9:{name:"possible_length",v:!0,c:5,type:Number},10:{name:"possible_length_local_only",v:!0,c:5,type:Number},6:{name:"example_number",c:9,type:String}})),t},A.j=A.prototype.j,_.prototype.j=function(){var t=Z;return t||(Z=t=g(_,{0:{name:"PhoneMetadata",I:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",c:11,type:A},2:{name:"fixed_line",c:11,type:A},3:{name:"mobile",c:11,type:A},4:{name:"toll_free",c:11,type:A},5:{name:"premium_rate",c:11,type:A},6:{name:"shared_cost",c:11,type:A},7:{name:"personal_number",c:11,type:A},8:{name:"voip",c:11,type:A},21:{name:"pager",c:11,type:A},25:{name:"uan",c:11,type:A},27:{name:"emergency",c:11,type:A},28:{name:"voicemail",c:11,type:A},29:{name:"short_code",c:11,type:A},30:{name:"standard_rate",c:11,type:A},31:{name:"carrier_specific",c:11,type:A},33:{name:"sms_services",c:11,type:A},24:{name:"no_international_dialling",c:11,type:A},9:{name:"id",required:!0,c:9,type:String},10:{name:"country_code",c:5,type:Number},11:{name:"international_prefix",c:9,type:String},17:{name:"preferred_international_prefix",c:9,type:String},12:{name:"national_prefix",c:9,type:String},13:{name:"preferred_extn_prefix",c:9,type:String},15:{name:"national_prefix_for_parsing",c:9,type:String},16:{name:"national_prefix_transform_rule",c:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",c:8,defaultValue:!1,type:Boolean},19:{name:"number_format",v:!0,c:11,type:f},20:{name:"intl_number_format",v:!0,c:11,type:f},22:{name:"main_country_for_code",c:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",c:9,type:String},26:{name:"leading_zero_possible",c:8,defaultValue:!1,type:Boolean}})),t},_.j=_.prototype.j,v.prototype.a=function(t){throw new t.b,Error("Unimplemented")},v.prototype.b=function(t,e){if(11==t.a||10==t.a)return e instanceof c?e:this.a(t.i.prototype.j(),e);if(14==t.a){if("string"==typeof e&&J.test(e)){var a=Number(e);if(0<a)return a}return e}if(!t.h)return e;if((a=t.i)===String){if("number"==typeof e)return String(e)}else if(a===Number&&"string"==typeof e&&("Infinity"===e||"-Infinity"===e||"NaN"===e||J.test(e)))return Number(e);return e};var J=/^-?[0-9]+$/;e(y,v),y.prototype.a=function(t,e){var a=new t.b;return a.g=this,a.a=e,a.b={},a},e(C,y),C.prototype.b=function(t,e){return 8==t.a?!!e:v.prototype.b.apply(this,arguments)},C.prototype.a=function(t,e){return C.M.a.call(this,t,e)};var K={55:["BR"]},X={BR:[null,[null,null,"(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",null,null,null,null,null,null,[8,9,10,11]],[null,null,"(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5]\\d{7}",null,null,null,"1123456789",null,null,[10],[8]],[null,null,"(?:[189][1-9]|2[12478])(?:7|9\\d)\\d{7}|(?:3[1-578]|[46][1-9]|5[13-5]|7[13-579])(?:[6-9]|9\\d)\\d{7}",null,null,null,"11961234567",null,null,[10,11],[8]],[null,null,"800\\d{6,7}",null,null,null,"800123456",null,null,[9,10]],[null,null,"(?:300|[59]00\\d?)\\d{6}",null,null,null,"300123456",null,null,[9,10]],[null,null,"(?:300\\d(?:\\d{2})?|4(?:0(?:0\\d|20)|370))\\d{4}",null,null,null,"40041234",null,null,[8,10]],[null,null,null,null,null,null,null,null,null,[-1]],[null,null,null,null,null,null,null,null,null,[-1]],"BR",55,"00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","0",null,null,"0(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",null,null,[[null,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","300|4(?:0(?:0|20)|370)"]],[null,"(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1"],[null,"(\\d{3,5})","$1",["1[125689]"]],[null,"(\\d{4})(\\d{4})","$1-$2",["[2-9](?:0[1-9]|[1-9])"]],[null,"(\\d{5})(\\d{4})","$1-$2",["9(?:0[1-9]|[1-9])"]],[null,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)"],[null,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[1-9][1-9]9"],"($1)","0 $CC ($1)"]],[[null,"(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","300|4(?:0(?:0|20)|370)"]],[null,"(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1"],[null,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)"],[null,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[1-9][1-9]9"],"($1)","0 $CC ($1)"]],[null,null,null,null,null,null,null,null,null,[-1]],null,null,[null,null,"(?:300\\d|40(?:0\\d|20))\\d{4}",null,null,null,null,null,null,[8]],[null,null,null,null,null,null,null,null,null,[-1]],null,null,[null,null,null,null,null,null,null,null,null,[-1]]]};b.b=function(){return b.a?b.a:b.a=new b};var Q={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","Ôºê":"0","Ôºë":"1","Ôºí":"2","Ôºì":"3","Ôºî":"4","Ôºï":"5","Ôºñ":"6","Ôºó":"7","Ôºò":"8","Ôºô":"9","Ÿ†":"0","Ÿ°":"1","Ÿ¢":"2","Ÿ£":"3","Ÿ§":"4","Ÿ•":"5","Ÿ¶":"6","Ÿß":"7","Ÿ®":"8","Ÿ©":"9","€∞":"0","€±":"1","€≤":"2","€≥":"3","€¥":"4","€µ":"5","€∂":"6","€∑":"7","€∏":"8","€π":"9"},tt=RegExp("[+Ôºã]+"),et=RegExp("([0-9Ôºê-ÔºôŸ†-Ÿ©€∞-€π])"),at=/^\(?\$1\)?$/,st=new _;h(st,11,"NA");var it=/\[([^\[\]])*\]/g,nt=/\d(?=[^,}][^,}])/g,ot=RegExp("^[-x‚Äê-‚Äï‚àí„ÉºÔºç-Ôºè ¬†¬≠‚Äã‚Å†„ÄÄ()ÔºàÔºâÔºªÔºΩ.\\[\\]/~‚Åì‚àºÔΩû]*(\\$\\d[-x‚Äê-‚Äï‚àí„ÉºÔºç-Ôºè ¬†¬≠‚Äã‚Å†„ÄÄ()ÔºàÔºâÔºªÔºΩ.\\[\\]/~‚Åì‚àºÔΩû]*)+$"),rt=/[- ]/;x.prototype.K=function(){this.C="",s(this.i),s(this.u),s(this.m),this.s=0,this.w="",s(this.b),this.h="",s(this.a),this.l=!0,this.A=this.o=this.F=!1,this.f=[],this.B=!1,this.g!=this.J&&(this.g=P(this,this.D))},x.prototype.L=function(t){return this.C=function(t,e){t.i.a(e);var a,i=e;if(et.test(i)||1==t.i.b.length&&tt.test(i)?("+"==(i=e)?(a=i,t.u.a(i)):(a=Q[i],t.u.a(a),t.a.a(a)),e=a):(t.l=!1,t.F=!0),!t.l){if(!t.F)if(G(t)){if(M(t))return j(t)}else if(0<t.h.length&&(i=t.a.toString(),s(t.a),t.a.a(t.h),t.a.a(i),a=(i=t.b.toString()).lastIndexOf(t.h),s(t.b),t.b.a(i.substring(0,a))),t.h!=T(t))return t.b.a(" "),j(t);return t.i.toString()}switch(t.u.b.length){case 0:case 1:case 2:return t.i.toString();case 3:if(!G(t))return t.h=T(t),I(t);t.A=!0;default:return t.A?(M(t)&&(t.A=!1),t.b.toString()+t.a.toString()):0<t.f.length?(i=E(t,e),0<(a=$(t)).length?a:(S(t,t.a.toString()),O(t)?L(t):t.l?N(t,i):t.i.toString())):I(t)}}(this,t)},t("Cleave.AsYouTypeFormatter",x),t("Cleave.AsYouTypeFormatter.prototype.inputDigit",x.prototype.L),t("Cleave.AsYouTypeFormatter.prototype.clear",x.prototype.K)}).call("object"==typeof t&&t?t:window)}).call(this,a(20))},279:function(t,e,a){"use strict";a(253)},280:function(t,e,a){(e=a(159)(!0)).push([t.i,".account-form__inscription{align-items:end}","",{version:3,sources:["AccountForm.scss"],names:[],mappings:"AAAA,2BAA2B,eAAe",file:"AccountForm.scss",sourcesContent:[".account-form__inscription{align-items:end}"]}]),t.exports=e},281:function(t,e,a){"use strict";a(254)},282:function(t,e,a){(e=a(159)(!0)).push([t.i,".address-form{margin:0 auto;max-width:600px}.address-form__zip{max-width:225px}.address-form__number{align-items:center}","",{version:3,sources:["AddressForm.scss"],names:[],mappings:"AAAA,cAAc,aAAa,CAAC,eAAe,CAAC,mBAAmB,eAAe,CAAC,sBAAsB,kBAAkB",file:"AddressForm.scss",sourcesContent:[".address-form{margin:0 auto;max-width:600px}.address-form__zip{max-width:225px}.address-form__number{align-items:center}"]}]),t.exports=e},283:function(t,e,a){"use strict";a(255)},284:function(t,e,a){(e=a(159)(!0)).push([t.i,".account-addresses__card{font-size:.9rem;margin-bottom:1rem}.account-addresses__card label{width:100%}.account-addresses__actions{margin-top:.5rem}.account-addresses__actions .btn{margin-right:.5rem}.account-addresses__address{margin-bottom:0}.account-addresses__city,.account-addresses__line{display:block}","",{version:3,sources:["AccountAddresses.scss"],names:[],mappings:"AAAA,yBAAyB,eAAe,CAAC,kBAAkB,CAAC,+BAA+B,UAAU,CAAC,4BAA4B,gBAAgB,CAAC,iCAAiC,kBAAkB,CAAC,4BAA4B,eAAe,CAAC,kDAAkD,aAAa",file:"AccountAddresses.scss",sourcesContent:[".account-addresses__card{font-size:.9rem;margin-bottom:1rem}.account-addresses__card label{width:100%}.account-addresses__actions{margin-top:.5rem}.account-addresses__actions .btn{margin-right:.5rem}.account-addresses__address{margin-bottom:0}.account-addresses__city,.account-addresses__line{display:block}"]}]),t.exports=e},285:function(t,e,a){"use strict";var s=a(24),i=a(31),n=a(71),o=a(25),r=a(89),c=a(27),l=a.n(c),u=a(252),d=a(225),p=a.n(d);const m=o.$ecomConfig.get("country_code");var h={name:"InputZipCode",components:{CleaveInput:p.a},props:{value:{type:[String,Number],required:!0}},computed:{placeholder:()=>Object(i.a)(s.ve),pattern:()=>"BR"===m?"[\\d]{5}-[\\d]{3}":null,localValue:{get(){return this.value},set(t){this.$emit("input",t)}},cleaveOptions:()=>"BR"===m?{blocks:[5,3],delimiter:"-"}:{blocks:[30]}}},g=a(40),f=Object(g.a)(h,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("cleave-input",{staticClass:"form-control",attrs:{type:"tel",pattern:t.pattern,options:t.cleaveOptions,placeholder:t.placeholder},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})}),[],!1,null,null,null).exports;const A=o.$ecomConfig.get("country_code");var _={name:"AddressForm",components:{InputZipCode:f},props:{address:{type:Object,default:()=>({})},zipCode:String,btnText:{type:String,default:()=>Object(i.a)(s.yd)}},data(){return{localAddress:{_id:Object(r.a)(),zip:"",province_code:"",...this.address},isZipReady:"BR"!==A,zipLoading:null,addressFromZip:{},isNoNumber:!1}},computed:{i19borough:()=>Object(i.a)(s.x),i19city:()=>Object(i.a)(s.N),i19complement:()=>Object(i.a)(s.U),i19name:()=>Object(i.a)(s.rc),i19noNumber:()=>Object(i.a)(s.wc),i19number:()=>Object(i.a)(s.Cc),i19provinceCode:()=>Object(i.a)(s.gd),i19recipient:()=>Object(i.a)(s.jd),i19reference:()=>Object(i.a)(s.md),i19street:()=>Object(i.a)(s.Vd),i19zipCode:()=>Object(i.a)(s.ve),provinceCode:{get(){return this.localAddress.province_code},set(t){this.localAddress.province_code=t.toUpperCase().slice(0,2)}},zipInfoLink:()=>"BR"===A?"https://buscacepinter.correios.com.br/app/endereco/index.php":null},methods:{updateZipState(){"BR"===A&&this.localAddress.zip.length>=8?this.zipLoading!==this.localAddress.zip&&(this.addressFromZip={},setTimeout((()=>{this.fetchAddressInfo(this.localAddress.zip)}),this.zipLoading?150:50)):this.zipLoading=null},fetchAddressInfo(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t===this.localAddress.zip&&(this.zipLoading=t,l.a.get(`https://viacep.com.br/ws/${t}/json/`,{timeout:4e3}).then((e=>{let{data:a}=e;a.erro||t!==this.localAddress.zip||([["province_code",a.uf],["city",a.localidade],["borough",a.bairro],["street",a.logradouro]].forEach((t=>{let[e,a]=t;this.$set(this.localAddress,e,a||""),this.$set(this.addressFromZip,e,Boolean(a))})),this.$nextTick((()=>{setTimeout((()=>{this.$refs.inputNumber&&this.$refs.inputNumber.select()}),300)})))})).catch((a=>{console.error(a),e||setTimeout((()=>{this.fetchAddressInfo(t,!0)}),300)})).finally((()=>{t===this.zipLoading&&(this.zipLoading=null)})))},submit(t){const e=this.$el;Object(u.a)(e)&&this.$emit("update:address",this.localAddress),e.classList.add("was-validated")}},watch:{zipCode(t){this.localAddress.zip=t},"localAddress.zip"(t){this.updateZipState(),this.$emit("update:zip-code",t)},zipLoading(t){t?(this.isZipReady=!1,setTimeout((()=>{this.isZipReady=!0}),1500)):this.isZipReady=!0},isNoNumber(t){t&&delete this.localAddress.number}},mounted(){this.updateZipState();const t=this.$el.querySelectorAll("input");for(let e=0;e<t.length;e++)if(!t[e].value){t[e].focus();break}}},v=_,y=(a(281),Object(g.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"address-form needs-validation",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("div",{staticClass:"form-group address-form__name"},[a("label",{attrs:{for:"address-form-name"}},[t._v(" "+t._s(t.i19recipient)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.localAddress.name,expression:"localAddress.name"}],staticClass:"form-control",attrs:{type:"text",pattern:"[^\\d\\s]{2,}.*",id:"address-form-name",placeholder:t.i19name,required:""},domProps:{value:t.localAddress.name},on:{input:function(e){e.target.composing||t.$set(t.localAddress,"name",e.target.value)}}})]),a("div",{staticClass:"form-group address-form__zip"},[a("div",{staticClass:"input-group"},[a("input-zip-code",{attrs:{id:"address-form-zip","aria-label":t.i19zipCode,required:""},model:{value:t.localAddress.zip,callback:function(e){t.$set(t.localAddress,"zip",e)},expression:"localAddress.zip"}}),t.zipLoading||t.zipInfoLink?a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t.zipLoading?a("div",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):a("a",{attrs:{href:t.zipInfoLink,target:"_blank"}},[a("i",{staticClass:"i-question-circle"})])])]):t._e()],1)]),a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut fast"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isZipReady,expression:"isZipReady"}]},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"address-form-number"}},[t._v(" "+t._s(t.i19number)+" ")]),a("div",{staticClass:"row address-form__number"},[a("div",{staticClass:"col-5 col-lg-4"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.localAddress.number,expression:"localAddress.number",modifiers:{number:!0}}],ref:"inputNumber",staticClass:"form-control",attrs:{type:"number",id:"address-form-number",required:!t.isNoNumber,readonly:t.isNoNumber},domProps:{value:t.localAddress.number},on:{input:function(e){e.target.composing||t.$set(t.localAddress,"number",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"col"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isNoNumber,expression:"isNoNumber"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"address-form-no-number"},domProps:{checked:Array.isArray(t.isNoNumber)?t._i(t.isNoNumber,null)>-1:t.isNoNumber},on:{change:function(e){var a=t.isNoNumber,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.isNoNumber=a.concat([null])):n>-1&&(t.isNoNumber=a.slice(0,n).concat(a.slice(n+1)))}else t.isNoNumber=i}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"address-form-no-number"}},[t._v(" "+t._s(t.i19noNumber)+" ")])])])])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"address-form-compl"}},[t._v(" "+t._s(t.i19complement)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.localAddress.complement,expression:"localAddress.complement"}],staticClass:"form-control",attrs:{type:"text",id:"address-form-compl",maxlength:"100"},domProps:{value:t.localAddress.complement},on:{input:function(e){e.target.composing||t.$set(t.localAddress,"complement",e.target.value)}}})]),a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"address-form-ref"}},[t._v(" "+t._s(t.i19reference)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.localAddress.near_to,expression:"localAddress.near_to"}],staticClass:"form-control",attrs:{type:"text",id:"address-form-ref",maxlength:"100"},domProps:{value:t.localAddress.near_to},on:{input:function(e){e.target.composing||t.$set(t.localAddress,"near_to",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"address-form-street"}},[t._v(" "+t._s(t.i19street)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.localAddress.street,expression:"localAddress.street"}],staticClass:"form-control",attrs:{type:"text",id:"address-form-street",readonly:t.addressFromZip.street,required:""},domProps:{value:t.localAddress.street},on:{click:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.localAddress,"street",e.target.value)}}})]),a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"address-form-borough"}},[t._v(" "+t._s(t.i19borough)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.localAddress.borough,expression:"localAddress.borough"}],staticClass:"form-control",attrs:{type:"text",id:"address-form-borough",readonly:t.addressFromZip.borough},domProps:{value:t.localAddress.borough},on:{click:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.localAddress,"borough",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-6 col-7"},[a("label",{attrs:{for:"address-form-city"}},[t._v(" "+t._s(t.i19city)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.localAddress.city,expression:"localAddress.city"}],staticClass:"form-control",attrs:{type:"text",id:"address-form-city",readonly:t.addressFromZip.city,required:""},domProps:{value:t.localAddress.city},on:{click:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.localAddress,"city",e.target.value)}}})]),a("div",{staticClass:"form-group col-lg-4 col"},[a("label",{attrs:{for:"address-form-pc"}},[t._v(" "+t._s(t.i19provinceCode)+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.provinceCode,expression:"provinceCode"}],staticClass:"form-control",attrs:{type:"text",id:"address-form-pc",pattern:"[A-Z]{2}",maxlength:"2",placeholder:"AA",readonly:t.addressFromZip.province_code,required:""},domProps:{value:t.provinceCode},on:{click:function(t){return t.target.select()},input:function(e){e.target.composing||(t.provinceCode=e.target.value)}}})])]),a("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"submit"}},[a("i",{staticClass:"i-check mr-1"}),t._v(" "+t._s(t.btnText)+" ")])])])],1)}),[],!1,null,null,null)),C=y.exports;const{sessionStorage:b}=window,k="ecomCustomerAddress";var w={name:"AccountAddresses",components:{AddressForm:C},props:{customer:{type:Object,default:()=>({})},zipCode:String,formBtnText:String,canShowForm:{type:Boolean,default:!0}},data:()=>({isForm:!1,isNewAddress:!1,editAddressIndex:-1}),computed:{i19edit:()=>Object(i.a)(s.nb),i19newAddress:()=>Object(i.a)(s.tc),i19remove:()=>Object(i.a)(s.sd),i19noNumber:()=>Object(i.a)(s.wc),addresses(){return this.customer.addresses||[]},localAddress:{get(){let t=this.addresses[this.editAddressIndex];return t||(t={},this.zipCode&&(t.zip=this.zipCode),this.customer.name&&(t.name=Object(n.a)(this.customer).substr(0,70))),t},set(t){const e=[].concat(this.addresses);e[this.editAddressIndex]=t,this.$emit("update:customer",{...this.customer,addresses:e}),t.zip&&(this.isNewAddress=!1,this.selectAddress(t)),this.isForm=!1}}},methods:{getLineAddress(t){if(t.line_address)return t.line_address;{let e=`${t.street} ${t.number||this.i19noNumber}`;return t.complement&&(e+=` - ${t.complement}`),t.borough&&(e+=`, ${t.borough}`),e}},selectAddress(t){this.$emit("select-address",t._id),b.setItem(k,JSON.stringify(t))},removeAddress(t){const e=[].concat(this.addresses);e.splice(t,1),this.$emit("update:customer",{...this.customer,addresses:e})}},watch:{addresses(t,e){e.length?t.length||(this.isForm=this.isNewAddress=!0):t.length&&this.isNewAddress&&(this.isForm=this.isNewAddress=!1)},isNewAddress(t){t&&(this.editAddressIndex=this.addresses.length,this.isForm=!0)},editAddressIndex(t){if(t>-1){const e=this.addresses[t];e&&this.selectAddress(e),this.isForm=!0}},isForm(t){this.$emit("show-form",t),t||(this.editAddressIndex=-1)}},created(){if(this.addresses.length){let t;this.zipCode&&(t=this.addresses.findIndex((t=>t.zip===this.zipCode))),t>=0||(t=this.addresses.findIndex((t=>t.default)),-1===t&&(t=0));const e=this.addresses[t];e.name&&e.street&&e.city?this.selectAddress(e):this.editAddressIndex=t}else{this.isNewAddress=!0;const t=JSON.parse(b.getItem(k));if(t){const e={};for(const a in t)t[a]&&(e[a]=t[a]);e._id&&e.zip&&e.street&&(this.editAddressIndex=0,this.$nextTick((()=>{this.localAddress=e})))}}}},B=(a(283),Object(g.a)(w,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account-addresses"},[a("transition-group",{attrs:{"enter-active-class":"animated fadeIn"}},[t.isForm&&t.canShowForm?a("address-form",{key:"form",attrs:{address:t.localAddress,"btn-text":t.formBtnText},on:{"update:address":function(e){t.localAddress=e}}}):t.addresses.length?a("div",{key:"list"},[t._l(t.addresses,(function(e,s){return a("div",{key:e._id,staticClass:"account-addresses__card card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"custom-control custom-radio"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"account-address-"+s,name:"account-address-selected"},domProps:{checked:e.default},on:{change:function(a){return t.selectAddress(e)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"account-address-"+s}},[a("address",{staticClass:"account-addresses__address"},[a("span",{staticClass:"account-addresses__line"},[t._v(" "+t._s(t.getLineAddress(e))+" ")]),e.city?a("span",{staticClass:"account-addresses__city"},[t._v(" "+t._s(e.city+" / "+(e.province_code||e.province))+" ")]):t._e(),a("span",{staticClass:"account-addresses__zip"},[t._v(" "+t._s(e.zip)+" ")])])])]),a("div",{staticClass:"account-addresses__actions"},[a("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button","aria-label":t.i19edit},on:{click:function(e){t.editAddressIndex=s}}},[a("i",{staticClass:"i-pencil"})]),a("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button","aria-label":t.i19remove},on:{click:function(e){return t.removeAddress(s)}}},[a("i",{staticClass:"i-trash"})])])]),a("div",{staticClass:"account-addresses__recipient card-footer"},[t._v(" "+t._s(e.name)+" ")])])})),a("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.isNewAddress=!0}}},[a("i",{staticClass:"i-plus mr-1"}),t._v(" "+t._s(t.i19newAddress)+" ")])],2):t._e()],1)],1)}),[],!1,null,null,null));e.a=B.exports},289:function(t,e,a){"use strict";a(5);var s=a(24),i=a(31),n=a(15),o=a(224),r=a(243),c={name:"LoginBlock",components:{AAlert:o.a,InputDocNumber:r.a},props:{customerEmail:String,canAcceptGuest:{type:Boolean,default:!1},ecomPassport:{type:Object,default:()=>n.a}},data(){return{email:this.customerEmail,docNumber:"",isCompany:!1,oauthProviders:[],isWaitingPopup:!1,isWaitingLogin:!1,failAlertText:null}},computed:{i19continue:()=>Object(i.a)(s.Y),i19enterYourDocNumberMsg:()=>Object(i.a)(s.tb),i19enterYourEmailMsg:()=>Object(i.a)(s.ub),i19helloAgain:()=>Object(i.a)(s.Nb),i19identifyYourAccount:()=>Object(i.a)(s.Rb),i19manageYourPurchaseHistory:()=>Object(i.a)(s.kc),i19notifyAboutOrders:()=>Object(i.a)(s.Bc),i19oauthOnPopup:()=>Object(i.a)(s.Dc),i19orProceedWith:()=>Object(i.a)(s.Lc),i19signInWith:()=>Object(i.a)(s.Rd),i19weUseYourDataToMsg:()=>Object(i.a)(s.se)},methods:{confirmAccount(){const{checkLogin:t,checkAuthorization:e,getCustomer:a}=this.ecomPassport,s=t()&&!e()&&a().main_email===this.email;return s&&this.$nextTick((()=>{this.$refs.InputDoc.$el.focus()})),s},submitLogin(){if(!this.isWaitingLogin){this.isWaitingLogin=!0,this.failAlertText=null;const{docNumber:t}=this,e=this.email&&this.email.toLowerCase(),a=this.confirmAccount(),n=()=>this.$emit("update",{email:e,docNumber:t});this.ecomPassport.fetchLogin(e,a?t:null).then((()=>{a&&n()})).catch((t=>{const{response:o}=t;o&&403===o.status?!a&&this.canAcceptGuest?(this.$emit("update:customer-email",e),n()):this.failAlertText=Object(i.a)(s.Yb):(console.error(t),this.failAlertText=Object(i.a)(s.ec),401===o.status&&(this.failAlertText="Seu cadastro ainda est√° em an√°lise."))})).finally((()=>{this.isWaitingLogin=!1}))}},oauthPopup(t){this.ecomPassport.popupOauthLink(t),this.isWaitingPopup=!0,setTimeout((()=>{this.isWaitingPopup=!1}),7500)}},watch:{email(){this.failAlertText=null},docNumber(){this.failAlertText=null}},created(){this.ecomPassport.fetchOauthProviders().then((t=>{let{host:e,baseUri:a,oauthPath:s,providers:i}=t;const n=[];for(const t in i)if(i[t]){const{faIcon:o,providerName:r}=i[t];let c=e+a+t+s;const l="object"==typeof window&&window.sessionStorage.getItem("ecomReferral");l&&(c+=`?referral=${l}`),n.push({link:c,faIcon:o,provider:t,providerName:r})}this.oauthProviders=n})).catch((t=>{console.error(t)}))},mounted(){this.$refs.inputEmail.focus();const{checkLogin:t,checkAuthorization:e,getCustomer:a}=this.ecomPassport,s=()=>{if(e())this.$emit("login",this.ecomPassport);else if(t()){const t=a();this.email=t.main_email,this.isCompany="j"===t.registry_type}};n.a.on("login",(()=>{this.isWaitingPopup=!1,s()})),s()}},l=(a(275),a(40)),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitLogin.apply(null,arguments)}}},[a("label",{staticClass:"h4",attrs:{for:"login-email"}},[t._v(" "+t._s(t.i19enterYourEmailMsg)+" ")]),a("div",{staticClass:"login__email input-group input-group-lg"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],ref:"inputEmail",staticClass:"form-control",attrs:{type:"email",id:"login-email",placeholder:"email@mail.com",readonly:t.isWaitingLogin,required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"login__email-btn btn btn-primary",attrs:{type:"submit",disabled:t.isWaitingLogin}},[t.isWaitingLogin?a("span",{key:"loading",staticClass:"spinner-border spinner-border-sm mb-1 mr-1",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):a("span",{key:"login"},[a("i",{staticClass:"i-arrow-right"}),a("span",{staticClass:"d-none d-md-inline ml-1"},[t._v(" "+t._s(t.i19continue)+" ")])])])])]),a("transition",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated position-absolute fadeOutUp"}},[t.confirmAccount()?a("div",{staticClass:"login__confirm"},[a("div",{staticClass:"login__hello"},[t._v(" "+t._s(t.i19helloAgain)+" "),a("strong",[t._v(t._s(t.ecomPassport.getCustomerName()))])]),a("label",{staticClass:"lead",attrs:{for:"login-doc"}},[t._v(" "+t._s(t.i19enterYourDocNumberMsg)+" ")]),a("div",{staticClass:"input-group input-group-lg"},[a("input-doc-number",{ref:"InputDoc",attrs:{id:"login-doc",isCompany:t.isCompany,readonly:t.isWaitingLogin,required:""},model:{value:t.docNumber,callback:function(e){t.docNumber=e},expression:"docNumber"}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.isWaitingLogin,"aria-label":t.i19continue}},[a("i",{staticClass:"i-check"})])])],1)]):t._e()]),a("a-alert",{staticClass:"mt-3",attrs:{"can-show":Boolean(t.failAlertText)}},[t._v(" "+t._s(t.failAlertText)+" ")]),a("transition",{attrs:{"enter-active-class":"animated fadeInUp"}},[t.oauthProviders.length?a("div",{staticClass:"login__oauth"},[a("p",{staticClass:"lead"},[t._v(" "+t._s(t.i19orProceedWith)+": ")]),t._l(t.oauthProviders,(function(e){var s=e.link,i=e.faIcon,n=e.providerName,o=e.provider;return a("button",{key:o,staticClass:"btn login__btn",class:"login__btn--"+o,attrs:{type:"button"},on:{click:function(){return t.oauthPopup(s)}}},[a("small",[t._v(t._s(t.i19signInWith))]),a("i",{staticClass:"fab mr-2",class:i}),t._v(" "+t._s(n)+" ")])}))],2):t._e()])],1),a("div",{staticClass:"login__info"},[a("div",{staticClass:"login__info-title"},[a("i",{staticClass:"i-lock"}),t._v(" "+t._s(t.i19weUseYourDataToMsg)+": ")]),t._l([t.i19identifyYourAccount,t.i19notifyAboutOrders,t.i19manageYourPurchaseHistory],(function(e){return a("div",{staticClass:"login__info-row"},[a("i",{staticClass:"i-check"}),t._v(" "+t._s(e)+" ")])}))],2),a("transition",{attrs:{"enter-active-class":"animated fadeIn slow","leave-active-class":"animated fadeOut"}},[t.isWaitingPopup?a("div",{staticClass:"login__popup-overlay"},[a("div",[a("div",{staticClass:"spinner-border mb-3",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Popup...")])]),a("h5",[t._v(t._s(t.i19oauthOnPopup))])])]):t._e()])],1)}),[],!1,null,null,null);e.a=u.exports},304:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__);const startedScriptsRefs=[];__webpack_exports__.a=(jsClient,skipOnloadExpression)=>{const src=jsClient.script_uri;let scriptRef=startedScriptsRefs.find((t=>t.src===src)),$script;return scriptRef?$script=scriptRef.$script:($script=document.createElement("script"),$script.async=!0,$script.defer=!0,scriptRef={src:src,$script:$script,resolves:[]},startedScriptsRefs.push(scriptRef),setTimeout((()=>{$script.setAttribute("src",src),document.head.appendChild($script)}),150*Math.random()+50)),new Promise((resolve=>{$script.onload=()=>{scriptRef.isLoaded=!0;let expression=jsClient.onload_expression;const runExpression=checkoutData=>{if(window._checkout=checkoutData,Object.assign(window.storefrontApp,window._checkout),expression){try{eval(expression)}catch(t){console.error(t,expression)}jsClient.container_html||(expression=null)}};skipOnloadExpression?scriptRef.resolves.forEach((t=>t(runExpression))):(runExpression(),scriptRef.resolves.forEach((t=>t())))},scriptRef.resolves.push(resolve),scriptRef.isLoaded&&$script.onload()}))}},305:function(t,e,a){"use strict";function s(t,e,a){return{isValid:t,isPotentiallyValid:e,isValidForThisYear:a||!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.expirationMonth=void 0,e.expirationMonth=function(t){var e=(new Date).getMonth()+1;if("string"!=typeof t)return s(!1,!1);if(""===t.replace(/\s/g,"")||"0"===t)return s(!1,!0);if(!/^\d*$/.test(t))return s(!1,!1);var a=parseInt(t,10);if(isNaN(Number(t)))return s(!1,!1);var i=a>0&&a<13;return s(i,i,i&&a>=e)}},306:function(t,e,a){var s=a(355);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(160).default)("5c89a8a0",s,!0,{})},307:function(t,e,a){var s=a(357);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(160).default)("1b630700",s,!0,{})},309:function(t,e,a){var s=a(361);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(160).default)("7b070f00",s,!0,{})},345:function(t,e,a){"use strict";var s=this&&this.__createBinding||(Object.create?function(t,e,a,s){void 0===s&&(s=a),Object.defineProperty(t,s,{enumerable:!0,get:function(){return e[a]}})}:function(t,e,a,s){void 0===s&&(s=a),t[s]=e[a]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=(this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&s(e,t,a);return i(e,t),e})(a(181)),o=a(346),r=a(347),c=a(349),l=a(305),u=a(277),d=a(352),p=a(353),m={creditCardType:n,cardholderName:o.cardholderName,number:r.cardNumber,expirationDate:c.expirationDate,expirationMonth:l.expirationMonth,expirationYear:u.expirationYear,cvv:d.cvv,postalCode:p.postalCode};t.exports=m},346:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cardholderName=void 0;var s=/^[\d\s-]*$/;function i(t,e){return{isValid:t,isPotentiallyValid:e}}e.cardholderName=function(t){return"string"!=typeof t?i(!1,!1):0===t.length?i(!1,!0):t.length>255?i(!1,!1):s.test(t)?i(!1,!0):i(!0,!0)}},347:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cardNumber=void 0;var s=a(348),i=a(181);function n(t,e,a){return{card:t,isPotentiallyValid:e,isValid:a}}e.cardNumber=function(t,e){var a,o;if(void 0===e&&(e={}),"string"!=typeof t&&"number"!=typeof t)return n(null,!1,!1);var r=String(t).replace(/-|\s/g,"");if(!/^\d*$/.test(r))return n(null,!1,!1);var c=i(r);if(0===c.length)return n(null,!1,!1);if(1!==c.length)return n(null,!0,!1);var l=c[0];if(e.maxLength&&r.length>e.maxLength)return n(l,!1,!1);a=l.type===i.types.UNIONPAY&&!0!==e.luhnValidateUnionPay||s(r),o=Math.max.apply(null,l.lengths),e.maxLength&&(o=Math.min(e.maxLength,o));for(var u=0;u<l.lengths.length;u++)if(l.lengths[u]===r.length)return n(l,r.length<o||a,a);return n(l,r.length<o,!1)}},348:function(t,e,a){"use strict";t.exports=function(t){for(var e,a=0,s=!1,i=t.length-1;i>=0;)e=parseInt(t.charAt(i),10),s&&(e*=2)>9&&(e=e%10+1),s=!s,a+=e,i--;return a%10==0}},349:function(t,e,a){"use strict";var s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var i in e=arguments[a])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.expirationDate=void 0;var i=a(350),n=a(305),o=a(277);function r(t,e,a,s){return{isValid:t,isPotentiallyValid:e,month:a,year:s}}e.expirationDate=function(t,e){var a;if("string"==typeof t)t=t.replace(/^(\d\d) (\d\d(\d\d)?)$/,"$1/$2"),a=i.parseDate(String(t));else{if(null===t||"object"!=typeof t)return r(!1,!1,null,null);var c=s({},t);a={month:String(c.month),year:String(c.year)}}var l=n.expirationMonth(a.month),u=o.expirationYear(a.year,e);if(l.isValid){if(u.isCurrentYear){var d=l.isValidForThisYear;return r(d,d,a.month,a.year)}if(u.isValid)return r(!0,!0,a.month,a.year)}return l.isPotentiallyValid&&u.isPotentiallyValid?r(!1,!0,null,null):r(!1,!1,null,null)}},350:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDate=void 0;var s=a(277),i=a(351);e.parseDate=function(t){var e;if(/^\d{4}-\d{1,2}$/.test(t)?e=t.split("-").reverse():/\//.test(t)?e=t.split(/\s*\/\s*/g):/\s/.test(t)&&(e=t.split(/ +/g)),i.isArray(e))return{month:e[0]||"",year:e.slice(1).join()};var a,n,o,r=(a=t,0===(o=Number(a[0]))?2:o>1||1===o&&Number(a[1])>2?1:1===o?(n=a.substr(1),s.expirationYear(n).isPotentiallyValid?1:2):5===a.length?1:a.length>5?2:1),c=t.substr(0,r);return{month:c,year:t.substr(c.length)}}},351:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=void 0,e.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},352:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cvv=void 0;var s=3;function i(t,e){return{isValid:t,isPotentiallyValid:e}}e.cvv=function(t,e){return void 0===e&&(e=s),e=e instanceof Array?e:[e],"string"!=typeof t?i(!1,!1):/^\d*$/.test(t)?function(t,e){for(var a=0;a<t.length;a++)if(e===t[a])return!0;return!1}(e,t.length)?i(!0,!0):t.length<Math.min.apply(null,e)?i(!1,!0):t.length>function(t){for(var e=s,a=0;a<t.length;a++)e=t[a]>e?t[a]:e;return e}(e)?i(!1,!1):i(!0,!0):i(!1,!1)}},353:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postalCode=void 0;function s(t,e){return{isValid:t,isPotentiallyValid:e}}e.postalCode=function(t,e){void 0===e&&(e={});var a=e.minLength||3;return"string"!=typeof t?s(!1,!1):t.length<a?s(!1,!0):s(!0,!0)}},354:function(t,e,a){"use strict";a(306)},355:function(t,e,a){(e=a(159)(!0)).push([t.i,".credit-card__bin .pay-icon{margin:-2px 0}.credit-card__name input{text-transform:uppercase}.credit-card__loading{align-items:center;background-color:var(--white);display:flex;height:80%;justify-content:center;opacity:.8;position:absolute;width:95%;z-index:1}","",{version:3,sources:["CreditCardForm.scss"],names:[],mappings:"AAAA,4BAA4B,aAAa,CAAC,yBAAyB,wBAAwB,CAAC,sBAAsB,kBAAkB,CAAC,6BAA6B,CAAC,YAAY,CAAC,UAAU,CAAC,sBAAsB,CAAC,UAAU,CAAC,iBAAiB,CAAC,SAAS,CAAC,SAAS",file:"CreditCardForm.scss",sourcesContent:[".credit-card__bin .pay-icon{margin:-2px 0}.credit-card__name input{text-transform:uppercase}.credit-card__loading{align-items:center;background-color:var(--white);display:flex;height:80%;justify-content:center;opacity:.8;position:absolute;width:95%;z-index:1}"]}]),t.exports=e},356:function(t,e,a){"use strict";a(307)},357:function(t,e,a){(e=a(159)(!0)).push([t.i,".payment__loading{padding-top:4rem;text-align:center;width:100%}.payment__loading>div{height:6rem;width:6rem}.payment__head{display:flex;justify-content:space-between}.payment__icon{margin-left:.25rem;text-align:center;width:2em}.payment__text{color:var(--gray);display:block;font-size:.9rem;margin-top:.25rem}.payment__badges{display:inline-block;text-transform:lowercase}.payment__badges .badge{margin-right:.25rem}.payment__discount-value{text-transform:uppercase}.payment__stamp{margin:.75rem auto 0;max-width:100%}.payment__back,.payment__intermediator{color:var(--gray)}.payment__back{font-size:.85rem;padding:.15rem}.payment__back:hover{color:var(--black)}.payment__back:focus{outline:none}","",{version:3,sources:["PaymentMethods.scss"],names:[],mappings:"AAAA,kBAAkB,gBAAgB,CAAC,iBAAiB,CAAC,UAAU,CAAC,sBAAsB,WAAW,CAAC,UAAU,CAAC,eAAe,YAAY,CAAC,6BAA6B,CAAC,eAAe,kBAAkB,CAAC,iBAAiB,CAAC,SAAS,CAAC,eAAe,iBAAiB,CAAC,aAAa,CAAC,eAAe,CAAC,iBAAiB,CAAC,iBAAiB,oBAAoB,CAAC,wBAAwB,CAAC,wBAAwB,mBAAmB,CAAC,yBAAyB,wBAAwB,CAAC,gBAAgB,oBAAoB,CAAC,cAAc,CAAC,uCAAuC,iBAAiB,CAAC,eAAe,gBAAgB,CAAC,cAAc,CAAC,qBAAqB,kBAAkB,CAAC,qBAAqB,YAAY",file:"PaymentMethods.scss",sourcesContent:[".payment__loading{padding-top:4rem;text-align:center;width:100%}.payment__loading>div{height:6rem;width:6rem}.payment__head{display:flex;justify-content:space-between}.payment__icon{margin-left:.25rem;text-align:center;width:2em}.payment__text{color:var(--gray);display:block;font-size:.9rem;margin-top:.25rem}.payment__badges{display:inline-block;text-transform:lowercase}.payment__badges .badge{margin-right:.25rem}.payment__discount-value{text-transform:uppercase}.payment__stamp{margin:.75rem auto 0;max-width:100%}.payment__back,.payment__intermediator{color:var(--gray)}.payment__back{font-size:.85rem;padding:.15rem}.payment__back:hover{color:var(--black)}.payment__back:focus{outline:none}"]}]),t.exports=e},360:function(t,e,a){"use strict";a(309)},361:function(t,e,a){(e=a(159)(!0)).push([t.i,'.checkout__account{margin:0 auto;max-width:600px}.checkout__account>.lead{text-align:center}.checkout__app{margin:0 auto 1rem;max-width:90rem;min-height:300px}.checkout__steps{display:flex;margin-bottom:.5rem}.checkout__step{color:var(--primary-light);flex-grow:1;font-size:.85rem;padding:.35rem;position:relative;text-align:center;text-transform:uppercase}.checkout__step>small{background:var(--light);border-radius:50%;border-right:1px solid var(--primary);display:inline-block;width:1rem}.checkout__step:not(:last-child):before{color:var(--gray);content:"/";font-weight:700;position:absolute;right:0}.checkout__step--current{color:var(--secondary);font-weight:700;pointer-events:none}.checkout__step--past,.checkout__step--past:hover{color:var(--success)}.checkout__step--disabled{color:var(--gray);pointer-events:none}.checkout__step:hover{text-decoration:none}.checkout__step:focus{outline:none}.checkout__step .fa-arrow-left{opacity:.75}.checkout__step .fa-shopping-cart{color:var(--success);opacity:.5}.checkout__info{background:var(--light)}@media(max-width:991.98px){.checkout__info{margin-top:2.5rem}}@media(min-width:992px){.checkout__info{border-left:.3rem solid var(--secondary);border-radius:.25rem 0 0 .25rem}}.checkout__back{margin-top:2rem;text-align:right}@media(max-width:575.98px){.checkout__back>.btn{display:block}}.checkout__col{padding-top:1rem}.checkout__shipping{margin-bottom:1.5rem}.checkout__shipping-method{align-items:center;background:var(--light);border-left:3px solid var(--success);border-radius:.25rem;display:flex;justify-content:space-between;margin-bottom:1rem;padding:.75rem 1rem}.checkout__shipping-method small{color:var(--gray)}.checkout .shipping-calculator__services{max-width:100%}.checkout__overlay{background:var(--body-bg);height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}.checkout__overlay.show{opacity:.5;z-index:10}.checkout__summary{display:flex;flex-direction:column;height:100%;justify-content:space-between;padding:1rem .5rem}.checkout__loyalty-points{margin-bottom:var(--spacer-3);margin-top:var(--spacer-2)}.checkout__discount{margin-bottom:var(--spacer-4)}.checkout__user{margin-bottom:1rem}.checkout__user small{color:var(--gray)}.checkout__btn-top{display:block;margin:var(--spacer-5) auto 0}.checkout .product-card__buy{opacity:1}',"",{version:3,sources:["EcCheckout.scss"],names:[],mappings:"AAAA,mBAAmB,aAAa,CAAC,eAAe,CAAC,yBAAyB,iBAAiB,CAAC,eAAe,kBAAkB,CAAC,eAAe,CAAC,gBAAgB,CAAC,iBAAiB,YAAY,CAAC,mBAAmB,CAAC,gBAAgB,0BAA0B,CAAC,WAAW,CAAC,gBAAgB,CAAC,cAAc,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,sBAAsB,uBAAuB,CAAC,iBAAiB,CAAC,qCAAqC,CAAC,oBAAoB,CAAC,UAAU,CAAC,wCAAwC,iBAAiB,CAAC,WAAW,CAAC,eAAe,CAAC,iBAAiB,CAAC,OAAO,CAAC,yBAAyB,sBAAsB,CAAC,eAAe,CAAC,mBAAmB,CAAC,kDAAkD,oBAAoB,CAAC,0BAA0B,iBAAiB,CAAC,mBAAmB,CAAC,sBAAsB,oBAAoB,CAAC,sBAAsB,YAAY,CAAC,+BAA+B,WAAW,CAAC,kCAAkC,oBAAoB,CAAC,UAAU,CAAC,gBAAgB,uBAAuB,CAAC,2BAA2B,gBAAgB,iBAAiB,CAAC,CAAC,wBAAwB,gBAAgB,wCAAwC,CAAC,+BAA+B,CAAC,CAAC,gBAAgB,eAAe,CAAC,gBAAgB,CAAC,2BAA2B,qBAAqB,aAAa,CAAC,CAAC,eAAe,gBAAgB,CAAC,oBAAoB,oBAAoB,CAAC,2BAA2B,kBAAkB,CAAC,uBAAuB,CAAC,oCAAoC,CAAC,oBAAoB,CAAC,YAAY,CAAC,6BAA6B,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,iCAAiC,iBAAiB,CAAC,yCAAyC,cAAc,CAAC,mBAAmB,yBAAyB,CAAC,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,wBAAwB,UAAU,CAAC,UAAU,CAAC,mBAAmB,YAAY,CAAC,qBAAqB,CAAC,WAAW,CAAC,6BAA6B,CAAC,kBAAkB,CAAC,0BAA0B,6BAA6B,CAAC,0BAA0B,CAAC,oBAAoB,6BAA6B,CAAC,gBAAgB,kBAAkB,CAAC,sBAAsB,iBAAiB,CAAC,mBAAmB,aAAa,CAAC,6BAA6B,CAAC,6BAA6B,SAAS",file:"EcCheckout.scss",sourcesContent:['.checkout__account{margin:0 auto;max-width:600px}.checkout__account>.lead{text-align:center}.checkout__app{margin:0 auto 1rem;max-width:90rem;min-height:300px}.checkout__steps{display:flex;margin-bottom:.5rem}.checkout__step{color:var(--primary-light);flex-grow:1;font-size:.85rem;padding:.35rem;position:relative;text-align:center;text-transform:uppercase}.checkout__step>small{background:var(--light);border-radius:50%;border-right:1px solid var(--primary);display:inline-block;width:1rem}.checkout__step:not(:last-child):before{color:var(--gray);content:"/";font-weight:700;position:absolute;right:0}.checkout__step--current{color:var(--secondary);font-weight:700;pointer-events:none}.checkout__step--past,.checkout__step--past:hover{color:var(--success)}.checkout__step--disabled{color:var(--gray);pointer-events:none}.checkout__step:hover{text-decoration:none}.checkout__step:focus{outline:none}.checkout__step .fa-arrow-left{opacity:.75}.checkout__step .fa-shopping-cart{color:var(--success);opacity:.5}.checkout__info{background:var(--light)}@media(max-width:991.98px){.checkout__info{margin-top:2.5rem}}@media(min-width:992px){.checkout__info{border-left:.3rem solid var(--secondary);border-radius:.25rem 0 0 .25rem}}.checkout__back{margin-top:2rem;text-align:right}@media(max-width:575.98px){.checkout__back>.btn{display:block}}.checkout__col{padding-top:1rem}.checkout__shipping{margin-bottom:1.5rem}.checkout__shipping-method{align-items:center;background:var(--light);border-left:3px solid var(--success);border-radius:.25rem;display:flex;justify-content:space-between;margin-bottom:1rem;padding:.75rem 1rem}.checkout__shipping-method small{color:var(--gray)}.checkout .shipping-calculator__services{max-width:100%}.checkout__overlay{background:var(--body-bg);height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}.checkout__overlay.show{opacity:.5;z-index:10}.checkout__summary{display:flex;flex-direction:column;height:100%;justify-content:space-between;padding:1rem .5rem}.checkout__loyalty-points{margin-bottom:var(--spacer-3);margin-top:var(--spacer-2)}.checkout__discount{margin-bottom:var(--spacer-4)}.checkout__user{margin-bottom:1rem}.checkout__user small{color:var(--gray)}.checkout__btn-top{display:block;margin:var(--spacer-5) auto 0}.checkout .product-card__buy{opacity:1}']}]),t.exports=e},380:function(t,e,a){"use strict";a.r(e);a(5),a(52);var s=a(24),i=a(31),n=a(2),o=a(4),r=a(15),c=a(19),l=a(103),u=a(50),d=a(22),p=a(32),m=a(70),h=a(85),g=a(231),f=a(180),A=a(315),_=a(163),v={name:"PointsApplier",props:{pointsPrograms:Object,pointsApplied:{type:Object,required:!0},pointsAmount:Number,maxPointsAmount:Number,ecomPassport:{type:Object,default:()=>r.a}},data(){return{localPointsPrograms:this.pointsPrograms||{},availablePoints:{}}},computed:{i19use$1LoyaltyPoints:()=>Object(i.a)(s.ne)},methods:{formatMoney:m.a,updatePrograms(t){t&&Object.keys(t).length&&(this.localPointsPrograms=t,this.$emit("update:points-programs",t),this.$nextTick(this.fixAvailablePoints))},fixAvailablePoints(){const t=this.ecomPassport.getCustomer().loyalty_points_entries;this.availablePoints=t?t.reduce(((t,e)=>{const a=e.valid_thru;if(!a||new Date(a).getTime()>=Date.now()){const a=e.program_id,s=e.active_points;if(this.localPointsPrograms[a]){t[a]?t[a]+=s:t[a]=s,t[a]>e.max_points&&(t[a]=e.max_points);const{ratio:i}=this.localPointsPrograms[a];t[a]*i>this.maxPointsAmount&&(t[a]=this.maxPointsAmount/i)}}return t}),{}):{}},getPointsAmount(t){return this.availablePoints[t]*this.localPointsPrograms[t].ratio},togglePoints(t,e){const a={};e&&(a[t]=this.availablePoints[t]),this.$emit("update:points-applied",a);let s=0;for(t in a)s+=this.getPointsAmount(t);this.$emit("update:points-amount",s)}},created(){this.pointsPrograms&&Object.keys(this.pointsPrograms).length?this.fixAvailablePoints():Object(_.a)("list_payments","loyalty_points_programs").then(this.updatePrograms),this.ecomPassport.on("login",this.fixAvailablePoints),this.$once("hook:beforeDestroy",(()=>{this.ecomPassport.off("login",this.fixAvailablePoints)}))}},y=a(40),C=Object(y.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"points-applier"},t._l(t.localPointsPrograms,(function(e,s){var i=e.name;return t.availablePoints[s]>=.1?a("div",{staticClass:"custom-control custom-switch"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"points-applier-"+s},domProps:{checked:t.pointsApplied[s]},on:{change:function(e){return t.togglePoints(s,e.target.checked)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"points-applier-"+s}},[a("span",{staticClass:"badge badge-info"},[t._v(" -"+t._s(t.formatMoney(t.getPointsAmount(s)))+" ")]),t._v(" "+t._s(t.i19use$1LoyaltyPoints.replace("$1",t.availablePoints[s].toFixed(1)))+" "),a("em",[t._v(t._s(i))])])]):t._e()})),0)}),[],!1,null,null,null).exports,b=a(289),k=a(229),w=a(234),B=a(261),x=(a(102),a(25)),P=a(304);var O=a(0),S=a(345),j=a(262),$=a(243),N=a(225),I=a.n(N);const L=x.$ecomConfig.get("country_code");var T={name:"CreditCardForm",components:{InputDate:j.a,InputDocNumber:$.a,CleaveInput:I.a},props:{amount:{type:Object,required:!0},checkHolder:String,canSkipHolderInfo:Boolean,isCompany:Boolean,installmentOptions:Array,gatewayOptions:Array,gatewayOptionsLabel:String,jsClient:Object,jsClientLoad:Promise,isPayerDocRequired:{type:Boolean,default:()=>!0===window.ecomCreditCardDocRequired}},data(){return{canFormatBinInput:!1,formattedCardBin:"",cardBinSetTimer:null,card:{bin:"",name:"",date:"",cvv:"",birth:"",doc:"",installment:this.installmentOptions?1:0},canFormatExpInput:!1,rawCardExp:"",isLoadingInstallments:!1,hasLoadedInstallments:!1,loadInstallmentsTimer:null,isWaitingCardHash:!1,installmentList:[],alert:{bin:!1,date:!1,cvv:!1},isNumberValidated:!1,isNumberPotentiallyValid:!1,activeBrand:"",brands:["visa","mastercard","american-express","elo","diners-club","hiper","hipercard"],canHideHolderFields:this.canSkipHolderInfo||Boolean(this.checkHolder),loadPromise:this.jsClientLoad||Promise.resolve()}},computed:{i19aboutCvvMsg:()=>Object(i.a)(s.g),i19atSight:()=>Object(i.a)(s.s).toLowerCase(),i19bearersDocument:()=>Object(i.a)(s.v),i19birthdate:()=>Object(i.a)(s.w),i19cardNumber:()=>Object(i.a)(s.H),i19confirmPurchase:()=>Object(i.a)(s.V),i19holderName:()=>Object(i.a)(s.Pb),i19interestFree:()=>Object(i.a)(s.Ub).toLowerCase(),i19nameOnCard:()=>Object(i.a)(s.sc),i19of:()=>Object(i.a)(s.Ec).toLowerCase(),i19parcelIn:()=>Object(i.a)(s.Rc),i19securityCode:()=>Object(i.a)(s.Fd),i19validThru:()=>Object(i.a)(s.oe),lang:()=>x.$ecomConfig.get("lang"),holderName:{get(){return this.card.name},set(t){this.card.name=t.toUpperCase()}},compareName(){return this.checkHolder.replace(/(\s.*)/,"")},creditCardRegex:()=>new RegExp(Object(i.a)(s.fb),"i")},methods:{formatMoney:m.a,checkName(){if(!this.canSkipHolderInfo&&this.checkHolder){const t=this.card.name.replace(/(\s.*)/,"");""===t?this.canHideHolderFields=!0:0===t.localeCompare(this.compareName,"en",{sensitivity:"base"})?(this.canHideHolderFields=!0,this.card.doc=this.card.birth=""):this.canHideHolderFields=!1}},validateDate(){const t=this.card.date.substr(0,2),e=this.card.date.substr(2,2);return 2===e.length&&(S.expirationMonth(t).isValid&&S.expirationYear(e).isValid)},validateCvv(){return S.cvv(this.card.cvv,"american-express"!==this.activeBrand?3:4).isValid},updateInstallmentList(){const t=this.jsClient.cc_installments;t&&t.function&&this.card.bin.length>=6&&!this.loadInstallmentsTimer&&(this.loadInstallmentsTimer=setTimeout((()=>{this.loadInstallmentsTimer=null;const e=window[t.function]({number:this.card.bin,amount:this.amount.total});t.is_promise?(this.isLoadingInstallments=!0,e.then((t=>{this.installmentList=t,t.length&&(this.card.installment=1),this.hasLoadedInstallments=!0})).catch(console.error).finally((()=>{this.isLoadingInstallments=!1}))):this.installmentList=e}),200))},generateCardHash(){return this.loadPromise.then((()=>{const t=this.jsClient.cc_hash;if(t&&t.function){const{name:e,doc:a,bin:s,cvv:i,date:n}=this.card;return window[t.function]({name:e,doc:a,number:s,cvc:i,month:n.substr(0,2),year:n.substr(2,2),brand:this.activeBrand})}return""}))},emitCardData(t){const{bin:e,name:a,cvv:s,doc:i,birth:n,installment:o,address:r}=this.card,c={credit_card:{holder_name:a,last_digits:e.slice(-4),save:!0,cvv:parseInt(s,10),hash:t}};if(o&&(c.installments_number=o),r&&r.zip&&(c.billing_address=r),a&&i&&(c.payer={fullname:a,doc_number:i.replace(/\D/g,"")},n)){const t=(t,e)=>parseInt(n.substr(t,e),10);let e,a,s;"BR"===L?(e=t(0,2),a=t(2,2),s=t(4,4)):(e=t(6,2),a=t(4,2),s=t(0,4)),c.payer.birth_date={day:e,month:a,year:s}}this.$emit("checkout",c)},notifyInvalidCard(){this.$toast({title:Object(i.a)(s.Vb),body:Object(i.a)(s.Wb)})},submit(){const{alert:t}=this;if(t.bin=!this.isNumberPotentiallyValid,t.date=!this.validateDate(),t.cvv=!this.validateCvv(),t.bin||t.date||t.cvv)this.notifyInvalidCard();else{const t=this.$el;t.checkValidity()&&this.validateDate()&&this.validateCvv()&&(this.jsClient?(this.isWaitingCardHash=!0,this.generateCardHash().then(this.emitCardData).catch((t=>{console.error(t),this.notifyInvalidCard()})).finally((()=>{this.isWaitingCardHash=!1}))):this.emitCardData()),t.classList.add("was-validated")}}},watch:{installmentOptions:{handler(t){t&&(this.installmentList=t.concat().sort(((t,e)=>t.number-e.number)))},immediate:!0},formattedCardBin(t){1===t.length&&(this.card.bin||(this.canFormatBinInput=!0,this.$nextTick((()=>{const t=this.$refs.binInput.$el;t.focus(),setTimeout((()=>{t.setSelectionRange(1,1)}),10)})))),this.cardBinSetTimer||t.replace(/\D/g,"")===this.card.bin||(this.cardBinSetTimer=setTimeout((()=>{this.cardBinSetTimer=null,this.card.bin=this.formattedCardBin.replace(/\D/g,"")}),200))},"card.bin"(t){this.isNumberValidated=this.isNumberPotentiallyValid=!1;const e=S.number(t);e.isPotentiallyValid&&e.card?(this.activeBrand!==e.card.type?(this.activeBrand=e.card.type,this.activeBrand&&(this.hasLoadedInstallments=!1,this.$nextTick(this.updateInstallmentList))):this.hasLoadedInstallments||this.isLoadingInstallments||this.$nextTick(this.updateInstallmentList),e.isValid?this.isNumberValidated=this.isNumberPotentiallyValid=!0:this.isNumberPotentiallyValid=e.isPotentiallyValid):this.activeBrand=""},rawCardExp(t){1===t.length&&(this.card.date||(this.canFormatExpInput=!0,this.$nextTick((()=>{const t=this.$refs.expInput.$el;t.focus(),setTimeout((()=>{t.setSelectionRange(1,1)}),10)})))),this.card.date=t.length>5?`${t.substr(0,2)}${t.substr(t.length-2,2)}`:t.replace("/","")},alert:{handler(){this.$el.classList.remove("was-validated")},deep:!0}},created(){this.jsClient&&!this.jsClientLoad&&(this.loadPromise=Object(P.a)(this.jsClient))},mounted(){const t=this.$el.querySelectorAll("input");for(let e=0;e<t.length;e++)if(!t[e].value){t[e].focus();break}Object(O.$)((function(){Object(O.$)('[data-toggle="popover"]').popover()}))}},G=(a(354),Object(y.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"credit-card needs-validation",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isWaitingCardHash,expression:"isWaitingCardHash"}],staticClass:"credit-card__loading"},[a("div",{staticClass:"spinner-border",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])])]),t.gatewayOptions&&t.gatewayOptions.length?a("div",{staticClass:"form-group"},[t.gatewayOptionsLabel?a("label",{attrs:{for:"credit-card-gateway"}},[t._v(" "+t._s(t.gatewayOptionsLabel)+" ")]):t._e(),a("select",{staticClass:"custom-select",attrs:{id:"credit-card-gateway",required:""},on:{change:function(e){return t.$emit("select-gateway",t.gatewayOptions[e.target.value])}}},[t.gatewayOptionsLabel?a("option",{attrs:{value:""}},[t._v("--")]):t._e(),t._l(t.gatewayOptions,(function(e,s){var i=e.label;return a("option",{domProps:{value:s}},[t._v(" "+t._s(i.replace(t.creditCardRegex,""))+" ")])}))],2)]):t._e(),a("div",{staticClass:"form-group credit-card__bin"},[a("label",{attrs:{for:"credit-card-bin"}},[t._v(" "+t._s(t.i19cardNumber)+" ")]),a("div",{staticClass:"input-group"},[t.canFormatBinInput?a("cleave-input",{ref:"binInput",staticClass:"form-control",class:!t.isNumberPotentiallyValid&&t.alert.bin?"is-invalid":null,attrs:{type:"tel",id:"credit-card-bin",raw:!1,options:{creditCard:!0},autocomplete:"off",required:""},on:{blur:function(e){t.alert.bin=t.card.bin&&!t.isNumberPotentiallyValid}},model:{value:t.formattedCardBin,callback:function(e){t.formattedCardBin=e},expression:"formattedCardBin"}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedCardBin,expression:"formattedCardBin"}],staticClass:"form-control",class:!t.isNumberPotentiallyValid&&t.alert.bin?"is-invalid":null,attrs:{type:"tel",autocomplete:"cc-number",required:""},domProps:{value:t.formattedCardBin},on:{blur:function(e){t.alert.bin=t.card.bin&&!t.isNumberPotentiallyValid},input:function(e){e.target.composing||(t.formattedCardBin=e.target.value)}}}),t.activeBrand&&t.brands.indexOf(t.activeBrand)>-1?a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"pay-icon",class:"pay-icon--"+t.activeBrand})])]):t._e()],1)]),a("div",{staticClass:"form-group credit-card__name"},[a("label",{attrs:{for:"credit-card-name"}},[t._v(" "+t._s(t.i19holderName)+" ")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.name,expression:"card.name"}],staticClass:"form-control",attrs:{type:"text",pattern:"[^\\d\\s]{3,}.*",id:"credit-card-name",placeholder:t.i19nameOnCard,autocomplete:"cc-name",required:""},domProps:{value:t.card.name},on:{change:t.checkName,input:function(e){e.target.composing||t.$set(t.card,"name",e.target.value)}}})])]),a("transition",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp position-absolute"}},[t.canHideHolderFields?t._e():a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"credit-card-birth"}},[t._v(" "+t._s(t.i19birthdate)+" ")]),a("input-date",{attrs:{id:"credit-card-birth",required:t.isPayerDocRequired},model:{value:t.card.birth,callback:function(e){t.$set(t.card,"birth",e)},expression:"card.birth"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"credit-card-doc"}},[t._v(" "+t._s(t.i19bearersDocument)+" ")]),a("input-doc-number",{attrs:{id:"credit-card-doc","is-company":t.isCompany,required:t.isPayerDocRequired},model:{value:t.card.doc,callback:function(e){t.$set(t.card,"doc",e)},expression:"card.doc"}})],1)])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"credit-card-validate"}},[t._v(" "+t._s(t.i19validThru)+" ")]),t.canFormatExpInput?a("cleave-input",{ref:"expInput",staticClass:"form-control",class:t.alert.date?"is-invalid":null,attrs:{type:"tel",id:"credit-card-validate",placeholder:"mm/"+("pt_br"===t.lang?"aa":"yy"),options:{date:!0,datePattern:["m","y"]},autocomplete:"off",required:""},on:{blur:function(){t.alert.date=t.card.date&&!t.validateDate()}},model:{value:t.rawCardExp,callback:function(e){t.rawCardExp=e},expression:"rawCardExp"}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.rawCardExp,expression:"rawCardExp"}],staticClass:"form-control",class:t.alert.date?"is-invalid":null,attrs:{type:"tel",placeholder:"mm/"+("pt_br"===t.lang?"aa":"yy"),autocomplete:"cc-exp",required:""},domProps:{value:t.rawCardExp},on:{blur:function(){t.alert.date=t.card.date&&!t.validateDate()},input:function(e){e.target.composing||(t.rawCardExp=e.target.value)}}})],1),a("div",{staticClass:"form-group col-lg-6"},[a("label",{attrs:{for:"credit-card-cvv"}},[t._v(" CVV "),t._m(0)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.cvv,expression:"card.cvv"}],staticClass:"form-control",class:t.alert.cvv?"is-invalid":null,attrs:{type:"tel",id:"credit-card-cvv",pattern:"\\d{3,4}",placeholder:"123",autocomplete:"cc-csc",required:""},domProps:{value:t.card.cvv},on:{blur:function(){t.alert.cvv=t.card.cvv&&!t.validateCvv()},input:function(e){e.target.composing||t.$set(t.card,"cvv",e.target.value)}}})])]),t.installmentList.length||t.isLoadingInstallments?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"credit-card-installment"}},[t._v(" "+t._s(t.i19parcelIn)+" ")]),a("transition-group",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"d-none"}},[t.isLoadingInstallments?a("div",{key:"loading",staticClass:"mx-2 spinner-grow",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):a("select",{directives:[{name:"model",rawName:"v-model",value:t.card.installment,expression:"card.installment"}],key:"installments",staticClass:"custom-select",attrs:{id:"credit-card-installment"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.card,"installment",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:1}},[t._v(" "+t._s(t.formatMoney(t.amount.total))+" "+t._s(t.i19atSight)+" ")]),t._l(t.installmentList,(function(e){var s=e.number,i=e.value,n=e.tax;return s>1?a("option",{domProps:{value:s}},[t._v(" "+t._s(s+"x "+t.i19of+" "+t.formatMoney(i))+" "),n?t._e():[t._v(" "+t._s(t.i19interestFree)+" ")]],2):t._e()}))],2)])],1):t._e(),a("button",{staticClass:"btn btn-lg btn-block btn-success",attrs:{type:"submit"}},[a("i",{staticClass:"i-lock mr-1"}),t._v(" "+t._s(t.i19confirmPurchase)+" ")])],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-muted",attrs:{title:t.i19securityCode,"data-container":"body","data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-content":t.i19aboutCvvMsg}},[a("i",{staticClass:"i-question-circle"})])}],!1,null,null,null)),M={name:"PaymentMethods",components:{CreditCardForm:G.exports},props:{amount:{type:Object,required:!0},cartItems:Array,customer:Object,paymentGateways:{type:Array,default:()=>window.ecomPaymentGateways||[]},defaultAppId:{type:Number,default:()=>window.ecomDefaultPaymentApp},appsSort:{type:Array,default:()=>window.ecomPaymentApps||[]},canUpdateGateways:{type:Boolean,default:!(window.ecomPaymentGateways&&window.ecomPaymentGateways.length)},canGroupRecurrentGateways:{type:Boolean,default:!1!==window.ecomGroupRecurrentGateways},ecomCart:{type:Object,default:()=>o.a}},data:()=>({isWaiting:!1,fetching:null,processingAppId:void 0,hasLoaded:!1,selectedGateway:-1,loadedClients:{}}),computed:{i19anyPaymentMethodMsg:()=>Object(i.a)(s.q),i19changePaymentMethod:()=>Object(i.a)(s.K),i19chooseSubscriptionPeriod:()=>Object(i.a)(s.M),i19checkout:()=>Object(i.a)(s.L),i19generateBillet:()=>Object(i.a)(s.Jb),i19interestFree:()=>Object(i.a)(s.Ub),i19ofDiscount:()=>Object(i.a)(s.Fc),i19onFreight:()=>Object(i.a)(s.Ic),i19recurrent:()=>Object(i.a)(s.kd),i19subscription:()=>Object(i.a)(s.Wd),i19total:()=>Object(i.a)(s.de),i19tryAgain:()=>Object(i.a)(s.ge),i19upTo:()=>Object(i.a)(s.me),items(){return this.cartItems||this.ecomCart.data.items},paymentGateway(){return this.paymentGateways[this.selectedGateway]||{}},jsClient(){return this.paymentGateway.js_client},jsClientLoad(){const{amount:t,customer:e,items:a,loadedClients:n,selectedGateway:o}=this;return t.total?n[o].then((n=>{this.$refs.gatewayContainer&&(this.$refs.gatewayContainer.innerHTML=this.jsClient.container_html);const r=n({amount:t,customer:e,items:a}),c=this.jsClient.transaction_promise;if(c&&o===this.selectedGateway)try{window[c].then(this.checkout).catch((t=>{console.error(t),this.$toast({title:Object(i.a)(s.Sc),body:Object(i.a)(s.Tc),variant:"danger"})}))}catch(t){console.error(t)}return r})):Promise.resolve()},canShowGatewayIcon(){return-1===this.selectedGateway||!this.jsClient||!this.jsClient.container_html},shouldUseCardForm(){switch(this.paymentGateway.payment_method.code){case"credit_card":return!0;case"debit_card":case"balance_on_intermediary":return Boolean(this.jsClient)}return!1},cardFormGatewayOptions(){return"recurrence"===this.paymentGateway.type&&this.canGroupRecurrentGateways?this.paymentGateways.filter((t=>{let{type:e}=t;return"recurrence"===e})):null},isCompany(){return this.customer&&"p"!==this.customer.registry_type},customerName(){return this.customer&&this.customer.name&&this.customer.name.given_name}},methods:{formatMoney:m.a,checkListedGateway(t,e){if("loyalty_points"!==t.payment_method.code){if(this.canGroupRecurrentGateways){const a=t=>"recurrence"===t.type&&"credit_card"===t.payment_method.code;if(a(t))return e===this.paymentGateways.findIndex((t=>a(t)))}return!0}return!1},checkShownGateway(t,e){return-1===this.selectedGateway||this.selectedGateway===e||this.canGroupRecurrentGateways&&"recurrence"===t.type&&"recurrence"===this.paymentGateway.type},gatewayIcon(t){switch(t.payment_method.code){case"credit_card":return"credit-card";case"banking_billet":return"barcode"}return"money-check"},installmentOption(t){let e;return t.installment_options&&t.installment_options.forEach((t=>{(!e||!t.tax&&e.tax||t.tax===e.tax&&t.number>e.number)&&(e=t)})),e},setupGatewayClient(t,e){const a=t.js_client;a&&(this.loadedClients[e]=Object(P.a)(a,!0))},postHandleGateways(){this.paymentGateways.forEach(this.setupGatewayClient),!this.hasLoaded&&this.paymentGateways.length&&(this.hasLoaded=!0,this.defaultAppId&&-1===this.selectedGateway&&(this.selectedGateway=this.paymentGateways.findIndex((t=>t.app_id===this.defaultAppId))))},parsePaymentOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,{paymentGateways:a}=this;var s,i;e||(a=[],this.loadedClients={}),t.length&&(Array.isArray(this.appsSort)&&this.appsSort.length&&(s=t,i=this.appsSort,s.sort(((t,e)=>{if(t.app_id===e.app_id)return 0;const a=i.indexOf(t.app_id),s=i.indexOf(e.app_id);return a>-1?s>-1?a<s?-1:1:a>-1?-1:1:s>-1?1:0}))),t.forEach((t=>{const{validated:s,error:i,response:n}=t;s&&!i&&n.payment_gateways.forEach((s=>{const i={app_id:t.app_id,installment_option:this.installmentOption(s),...s};e?(this.setupGatewayClient(i,this.selectedGateway),a[this.selectedGateway]=i,e=!1):"recurrence"!==i.type?a.push(i):a.unshift(i)}))}))),this.$emit("update:payment-gateways",a)},fetchPaymentGateways(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="/list_payments.json";const{items:s}=this,i=this.amount?{...this.amount}:{};"number"!=typeof i.subtotal&&(i.total=i.subtotal=s.reduce(((t,e)=>t+Object(p.a)(e)*e.quantity),0),i.freight&&(i.total+=i.freight),i.discount&&(i.total-=i.discount));const o={items:s,amount:i,domain:window.location.hostname,can_fetch_when_selected:!0,currency_id:s[0].currency_id||x.$ecomConfig.get("currency"),currency_symbol:s[0].currency_symbol||x.$ecomConfig.get("currency_symbol")};if(!e&&this.customer){o.customer={};for(const t in this.customer){const e=this.customer[t];e&&("object"!=typeof e||Object.keys(e).length)&&(o.customer[t]=e)}}t>0&&(a+=`?app_id=${t}`,this.paymentGateway.payment_method&&(o.payment_method=this.paymentGateway.payment_method)),this.isWaiting&&this.processingAppId===t||(this.isWaiting=!0,this.processingAppId=t,setTimeout((()=>{this.fetching=Object(n.c)({url:a,method:"POST",data:o}).then((e=>{let{data:a}=e;this.parsePaymentOptions(a.result,Boolean(t&&this.selectedGateway>=0))})).catch((a=>{console.error(a),e||setTimeout((()=>{this.fetchPaymentGateways(t,!0)}),a.response&&400===a.response.status?50:500)})).finally((()=>{this.isWaiting=!1}))}),t?5:50))},onCardFormSelectGateway(t){this.selectedGateway=this.paymentGateways.findIndex((e=>t===e))},handleCheckout(){this.jsClient&&this.jsClient.transaction_promise&&this.jsClientLoad.toString()||this.checkout()},checkout(t){this.$emit("checkout",{...this.paymentGateway,...t})}},watch:{selectedGateway:{handler(t){const{paymentGateway:e,loadedClients:a}=this,s=()=>{this.$emit("select-gateway",e),e.fetch_when_selected&&this.fetchPaymentGateways(e.app_id)};a[t]?a[t].then(s):s()},immediate:!0},paymentGateways:{handler(t){t.length&&this.postHandleGateways()},immediate:!0},"amount.total"(t,e){(t&&!e||Math.abs(t-e)>.1)&&-1===this.selectedGateway&&this.canUpdateGateways&&(this.isWaiting?this.fetching.then(this.fetchPaymentGateways):this.fetchPaymentGateways())}},created(){this.paymentGateways.length||this.fetchPaymentGateways()}},E=M,D=(a(356),Object(y.a)(E,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment"},[a("transition-group",{attrs:{"enter-active-class":"animated fadeIn slow"}},[t.isWaiting?a("div",{key:"waiting",staticClass:"payment__loading"},[a("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])]):t.paymentGateways.length?a("div",{key:"gateways",staticClass:"list-group"},[t._l(t.paymentGateways,(function(e,s){return t.checkListedGateway(e,s)?a("a",{directives:[{name:"show",rawName:"v-show",value:t.checkShownGateway(e,s),expression:"checkShownGateway(gateway, i)"}],key:e.app_id+e.payment_method.code+s,staticClass:"payment__gateway list-group-item list-group-item-action",class:"payment__gateway--"+e.app_id,attrs:{href:"#","data-intermediator":e.intermediator&&e.intermediator.code,"data-label":e.label},on:{click:function(e){e.preventDefault(),t.selectedGateway=t.selectedGateway===s?-1:s}}},[a("span",{staticClass:"payment__head"},[a("span",{staticClass:"payment__title"},[t.selectedGateway>-1?a("span",{staticClass:"payment__back",attrs:{"aria-label":t.i19changePaymentMethod}},[a("i",{staticClass:"i-chevron-left"})]):t._e(),t._v(" "+t._s("recurrence"!==e.type?e.label:t.i19subscription)+" ")]),a("span",[a("span",{staticClass:"payment__badges"},["recurrence"===e.type?a("span",{staticClass:"payment__recurrence mr-1",attrs:{title:t.i19recurrent}},[a("i",{staticClass:"i-history"})]):t._e(),e.discount&&e.discount.value>0?a("span",{staticClass:"badge badge-success payment__discount"},["percentage"===e.discount.type?[t._v(" "+t._s(e.discount.value)+"% ")]:a("span",{staticClass:"payment__discount-value"},[t._v(" "+t._s(t.formatMoney(e.discount.value))+" ")]),t._v(" "+t._s(t.i19ofDiscount)+" "),"freight"===e.discount.apply_at?[t._v(" "+t._s(t.i19onFreight)+" ")]:t._e()],2):e.installment_option?a("span",{staticClass:"badge badge-info payment__installment"},[t._v(" "+t._s(t.i19upTo)+" "+t._s(e.installment_option.number)+"x "),e.installment_option.tax?t._e():[t._v(" "+t._s(t.i19interestFree)+" ")]],2):t._e()]),a("span",{staticClass:"payment__icon"},[a("i",{staticClass:"fas",class:"fa-"+t.gatewayIcon(e)})])])]),t.canShowGatewayIcon?[e.icon?a("img",{staticClass:"payment__stamp",attrs:{src:e.icon}}):e.intermediator&&e.intermediator.name?a("small",{staticClass:"payment__intermediator"},[t._v(" "+t._s(e.intermediator.name)+" ")]):t._e()]:t._e()],2):t._e()})),a("transition",{attrs:{"enter-active-class":"animated fadeIn"}},[t.selectedGateway>-1?a("div",{staticClass:"payment__method list-group-item"},[t.paymentGateway.text?a("p",{staticClass:"payment__text",domProps:{innerHTML:t._s(t.paymentGateway.text)}}):t._e(),t.jsClient&&t.jsClient.container_html?a("div",{ref:"gatewayContainer",attrs:{"data-loaded":t.jsClientLoad.toString(),"data-amount":JSON.stringify(t.amount)},domProps:{innerHTML:t._s(t.jsClient.container_html)}}):[a("p",{staticClass:"payment__total"},[t._v(" "+t._s(t.i19total)+": "),a("strong",[t._v(t._s(t.formatMoney(t.amount.total)))])]),t.shouldUseCardForm?a("credit-card-form",{attrs:{"gateway-options":t.cardFormGatewayOptions,"gateway-options-label":t.i19chooseSubscriptionPeriod,amount:t.amount,"check-holder":t.customerName,"is-company":t.isCompany,"installment-options":t.paymentGateway.installment_options,"js-client":t.jsClient,"js-client-load":t.jsClientLoad},on:{"select-gateway":t.onCardFormSelectGateway,checkout:t.checkout}}):a("button",{staticClass:"btn btn-success btn-lg btn-block payment__pay",on:{click:t.handleCheckout}},[a("i",{staticClass:"i-check mr-1"}),t._v(" "+t._s("banking_billet"===t.paymentGateway.payment_method.code?t.i19generateBillet:t.i19checkout)+" ")])],a("hr"),a("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:function(e){t.selectedGateway=-1}}},[a("i",{staticClass:"fa fa-edit mr-1"}),t._v(" "+t._s(t.i19changePaymentMethod)+" ")])],2):t._e()])],2):a("div",{key:"empty",staticClass:"payment__empty"},[a("p",[t._v(t._s(t.i19anyPaymentMethodMsg))]),a("button",{staticClass:"btn btn-primary",on:{click:function(){return t.fetchPaymentGateways()}}},[t._v(" "+t._s(t.i19tryAgain)+" ")])])])],1)}),[],!1,null,null,null).exports),R=a(258),V=a(285),z=a(316);const U={en_us:"Back to cart",pt_br:"Voltar ao carrinho"},F={en_us:"Bag",pt_br:"Sacola"},q={en_us:"Buyer",pt_br:"Comprador"},Y={en_us:"Change shipping method",pt_br:"Alterar forma de envio"},H={en_us:"Contact phone",pt_br:"Telefone de contato"},W={en_us:"Continue",pt_br:"Continuar"},Z={en_us:"Delivery",pt_br:"Entrega"},J={en_us:"Discount",pt_br:"Desconto"},K={en_us:"Document number",pt_br:"N√∫mero do documento"},X={en_us:"Logout",pt_br:"Sair"},Q={en_us:"My account",pt_br:"Minha conta"},tt={en_us:"Payment",pt_br:"Pagamento"},et={en_us:"Proceed to payment",pt_br:"Prosseguir para pagamento"},at={en_us:"Complete your registration to proceed with the purchase",pt_br:"Complete seu cadastro para prosseguir com a compra"},st={en_us:"Summary",pt_br:"Resumo"};var it={name:"EcCheckout",components:{DiscountApplier:A.a,PointsApplier:C,LoginBlock:b.a,ShippingLine:w.a,ShippingCalculator:k.a,RecommendedItems:B.a,PaymentMethods:D,AccountForm:R.a,AccountAddresses:V.a,EcSummary:z.a},props:{mergeDictionary:{type:Object,default:()=>({})},cartUrl:{type:String,default:"/app/#/cart"},amount:{type:Object,default:()=>({})},customer:{type:Object,default:()=>({})},checkoutStep:{type:Number,default:1},isGuestCheckout:{type:Boolean,default:()=>!0===window.ecomGuestCheckout},isExternalAuth:{type:Boolean,default:()=>Boolean(window.$firebaseConfig&&window.$firebaseConfig.authDomain)},canRecommendItems:{type:Boolean,default:!0},canHideSummary:Boolean,shippingZipCode:String,shippingService:Object,skipShippingApps:{type:Array,default:()=>[]},paymentGateway:Object,discountCoupon:String,notes:String,ecomCart:{type:Object,default:()=>o.a}},data(){return{checkoutAppId:1,toCheckoutStep:this.checkoutStep,customerEmail:this.customer.main_email,isUserIdentified:Boolean(this.customer.main_email),editAccount:!1,editShippingService:!this.shippingService,localZipCode:this.shippingZipCode,selectedAddressId:null,isEditingAddr:!1,paymentGateways:[],loyaltyPointsApplied:{},loyaltyPointsAmount:0,hasMoreOffers:!1}},computed:{i19addToCart:()=>Object(i.a)(s.l),i19additionalComments:()=>Object(i.a)(s.n),i19buyAlsoMsg:()=>Object(i.a)(s.B),i19checkout:()=>Object(i.a)(s.L),i19orderNotesInputMsg:()=>Object(i.a)(s.Nc),i19proceed:()=>Object(i.a)(s.ed),i19selectedOffers:()=>Object(i.a)(s.Nd),modulesPayload:()=>f.a,dictionary(){return{Bag:F,BackToCart:U,Buyer:q,ChangeShippingMethod:Y,ContactPhone:H,Continue:W,Delivery:Z,Discount:J,DocNumber:K,Logout:X,MyAccount:Q,Payment:tt,ProceedToPayment:et,RegisterToBuy:at,Summary:st,...this.mergeDictionary}},cart(){return this.ecomCart.data},hasBuyerInfo(){const{customer:t}=this;return this.customerEmail&&t.name&&t.name.given_name&&t.registry_type&&t.doc_number&&t.phones&&t.phones.length},localCustomer:{get(){return this.customer},set(t){this.$emit("update:customer",t),this.$nextTick((()=>{this.editAccount=!1}))}},localDiscountCoupon:{get(){return this.discountCoupon},set(t){this.$emit("update:discount-coupon",t)}},paymentAmount(){return{...this.amount,total:this.amount.total-this.loyaltyPointsAmount}},localNotes:{get(){return this.notes},set(t){this.$emit("update:notes",t)}},shownCheckoutStep(){return!this.hasBuyerInfo||this.editAccount?this.isGuestCheckout?1:0:Math.min(this.enabledCheckoutStep,this.toCheckoutStep)},shippingAddress(){const{addresses:t}=this.customer;return t&&t.find((t=>(this.selectedAddressId===t._id||t.default)&&Boolean(t.street&&t.city&&t.province_code)))},enabledCheckoutStep(){return this.hasBuyerInfo?this.shippingAddress&&this.shippingService?2:1:this.isGuestCheckout?1:0},paymentsListKey(){let t="pay";return this.localDiscountCoupon&&(t+=`-${this.localDiscountCoupon}`),["freight","subtotal"].forEach((e=>{this.amount[e]>0&&(t+=`-${this.amount[e]}`)})),t}},methods:{name:d.a,price:p.a,formatMoney:m.a,img:t=>Object(h.a)(t,null,"small"),i18n(t){return Object(i.a)(this.dictionary[t])},login(t){t.checkLogin()&&(this.customerEmail=t.getCustomer().main_email,this.$emit("login",t))},autoMoveStep(){"activeElement"in document&&document.activeElement.blur(),this.$nextTick((()=>{document.body.offsetWidth>=768?this.toCheckoutStep=this.enabledCheckoutStep:!this.enabledCheckoutStep||this.toCheckoutStep>1||(this.toCheckoutStep=1)}))},updateZipCode(){this.shippingAddress&&(this.localZipCode=this.shippingAddress.zip)},selectAddress(t){this.$emit("address-selected",t),this.selectedAddressId=t,this.$nextTick(this.updateZipCode)},goToTop(){this.$nextTick((()=>{Object(g.a)(this.$el,-15)}))},goToOffers(){Object(g.a)(this.$refs.offers.$el)},selectPaymentGateway(t){this.$emit("update:payment-gateway",t),2!==this.checkoutStep||this.paymentGateway||this.goToTop()},checkout(t){if(this.loyaltyPointsAmount)for(let e=0;e<this.paymentGateways.length;e++)if("loyalty_points"===this.paymentGateways[e].payment_method.code){const a=this.loyaltyPointsAmount/this.amount.total;return this.$emit("checkout",[{...t,amount_part:1-a},{...this.paymentGateways[e],loyalty_points_applied:this.loyaltyPointsApplied,amount_part:a}])}this.$emit("checkout",t)}},watch:{customerEmail(t){t&&(this.customer.main_email!==t&&this.$emit("update:customer",{...this.customer,main_email:t}),this.isUserIdentified=!0)},"customer.main_email"(t){t&&(this.customerEmail=t)},localZipCode(){this.editShippingService=!0},skipShippingApps(){this.toCheckoutStep=1},toCheckoutStep(t){this.$emit("update:checkout-step",t),this.goToTop()},enabledCheckoutStep(){this.autoMoveStep()},paymentsListKey:{handler(){this.paymentGateways=window.ecomPaymentGateways||[]},immediate:!0}},created(){this.autoMoveStep(),this.updateZipCode(),this.ecomCart.on("addItem",(()=>{this.checkoutAppId++,this.$nextTick((()=>{window.scroll({top:this.$el.offsetTop-15,behavior:"smooth"})}))}))}},nt=(a(360),{name:"checkout",components:{EcCheckout:Object(y.a)(it,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout"},[a("transition-group",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"d-none"}},[t.shownCheckoutStep?a("div",{key:"app"+t.checkoutAppId,staticClass:"checkout__app",attrs:{"data-current-step":t.shownCheckoutStep,"data-enabled-step":t.enabledCheckoutStep}},[a("div",{staticClass:"row"},[a("div",{class:t.canHideSummary?"col":"col-lg-8"},[a("nav",{staticClass:"checkout__steps"},[a("a",{staticClass:"checkout__step",attrs:{href:t.cartUrl,title:t.i18n("BackToCart")}},[a("i",{staticClass:"i-arrow-left"}),a("span",{staticClass:"d-none d-md-inline"},[a("i",{staticClass:"i-shopping-cart"})])]),t._l([null,"Delivery","Payment"],(function(e,s){return e?a("a",{staticClass:"checkout__step",class:"checkout__step--"+(t.shownCheckoutStep===s?"current":t.enabledCheckoutStep<s?"disabled":t.shownCheckoutStep>s?"past":"next"),attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.toCheckoutStep=s}}},[a("small",[t._v(t._s(s))]),t._v(" "+t._s(t.i18n(e))+" ")]):t._e()}))],2),a("div",{staticClass:"row"},[a("div",{staticClass:"checkout__col col-md-6",class:1===t.enabledCheckoutStep?"offset-lg-3":null},[a("div",{class:1!==t.shownCheckoutStep?"d-none d-md-block":null},[a("div",{staticClass:"mb-3"},[t.isGuestCheckout?a("div",{staticClass:"checkout__account"},[a("account-form",{attrs:{customer:t.localCustomer,"is-short":!0,"is-guest-access":!0,"has-submit-btn":!t.hasBuyerInfo,"btn-text":t.i19proceed},on:{"update:customer":function(e){t.localCustomer=e}}})],1):t._e()]),t.shippingAddress?a("div",{staticClass:"checkout__shipping"},[a("transition-group",{attrs:{"enter-active-class":"animated fadeInDown"}},[!t.shippingService||t.editShippingService||t.skipShippingApps.length?t.cart.items.length?a("shipping-calculator",{key:"shipTo"+t.localZipCode,attrs:{"can-select-services":!0,"shipped-items":t.cart.items,"zip-code":t.localZipCode,"can-input-zip":!1,"skip-app-ids":t.skipShippingApps},on:{"select-service":function(e){return t.$emit("update:shipping-service",e)}}}):t._e():a("div",{key:"shipping"},[a("div",{staticClass:"checkout__shipping-method"},[a("small",[t._v(t._s(t.shippingService.label))]),a("shipping-line",{attrs:{"shipping-line":t.shippingService.shipping_line}})],1),a("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.editShippingService=!0}}},[a("i",{staticClass:"i-edit mr-1"}),t._v(" "+t._s(t.i18n("ChangeShippingMethod"))+" ")])])],1)],1):t._e(),t.hasBuyerInfo?a("account-addresses",{attrs:{customer:t.localCustomer,"zip-code":t.shippingZipCode,"form-btn-text":t.i19proceed,"can-show-form":1===t.shownCheckoutStep},on:{"update:customer":function(e){t.localCustomer=e},"select-address":t.selectAddress,"show-form":function(e){return t.isEditingAddr=e}}}):t._e(),a("transition",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},[!t.isEditingAddr&&1===t.shownCheckoutStep&&t.enabledCheckoutStep>=2?a("button",{staticClass:"checkout__btn-proceed btn btn-success mt-4",on:{click:function(e){t.toCheckoutStep=2}}},[a("i",{staticClass:"i-chevron-right mr-1"}),t._v(" "+t._s(t.i18n("ProceedToPayment"))+" ")]):t._e()]),a("div",{staticClass:"checkout__overlay fade",class:1!==t.shownCheckoutStep?"show":null,on:{click:function(e){t.toCheckoutStep=1}}})],1)]),a("div",{staticClass:"checkout__col col-md-6"},[a("transition",{attrs:{"enter-active-class":"animated fadeInRight slow","leave-active-class":"animated fadeOutRight fast position-absolute"}},[t.enabledCheckoutStep>=2?a("div",{class:2!==t.shownCheckoutStep?"d-none d-md-block":null},[a("payment-methods",{key:t.paymentsListKey,attrs:{amount:t.paymentAmount,customer:t.localCustomer,"payment-gateways":t.paymentGateways},on:{"update:paymentGateways":function(e){t.paymentGateways=e},"update:payment-gateways":function(e){t.paymentGateways=e},"select-gateway":t.selectPaymentGateway,checkout:t.checkout}}),a("div",{staticClass:"checkout__overlay fade",class:2!==t.shownCheckoutStep?"show":null,on:{click:function(e){t.toCheckoutStep=2}}})],1):t._e()])],1)]),t.canHideSummary&&t.enabledCheckoutStep>1?a("discount-applier",{staticClass:"checkout__discount mt-4",attrs:{amount:t.amount,"coupon-code":t.localDiscountCoupon,"modules-payload":t.modulesPayload,customer:t.customer,"is-attention-wanted":""},on:{"update:couponCode":function(e){t.localDiscountCoupon=e},"update:coupon-code":function(e){t.localDiscountCoupon=e},"set-discount-rule":function(e){return t.$emit("set-discount-rule",e)}}}):t._e()],1),t.canHideSummary?t._e():a("div",{staticClass:"col-lg-4 checkout__info"},[a("div",{staticClass:"checkout__summary"},[a("ec-summary",{attrs:{amount:t.amount,items:t.cart.items,buyer:t.customer,shippingAddress:t.shippingAddress,"can-show-price-options":!(t.paymentGateway&&t.paymentGateway.app_id),"paid-in-advance":t.loyaltyPointsAmount},on:{"click:account":function(e){t.editAccount=!0}},scopedSlots:t._u([{key:"more-offers",fn:function(){return[a("transition",{attrs:{"enter-active-class":"animated fadeInDown"}},[t.hasMoreOffers?a("button",{staticClass:"checkout__btn-offers btn btn-sm btn-link",on:{click:t.goToOffers}},[a("i",{staticClass:"i-plus mr-1"}),t._v(" "+t._s(t.i19selectedOffers)+" ")]):t._e()])]},proxy:!0},{key:"amount-custom",fn:function(){return[t.enabledCheckoutStep>1?a("points-applier",{staticClass:"checkout__loyalty-points",attrs:{"points-applied":t.loyaltyPointsApplied,"points-amount":t.loyaltyPointsAmount,"max-points-amount":Math.min(t.amount.subtotal-5,t.amount.total/2)},on:{"update:pointsApplied":function(e){t.loyaltyPointsApplied=e},"update:points-applied":function(e){t.loyaltyPointsApplied=e},"update:pointsAmount":function(e){t.loyaltyPointsAmount=e},"update:points-amount":function(e){t.loyaltyPointsAmount=e}}}):t._e()]},proxy:!0}],null,!1,995081779)},[t.enabledCheckoutStep>1?[a("discount-applier",{staticClass:"checkout__discount",attrs:{amount:t.amount,"coupon-code":t.localDiscountCoupon,"modules-payload":t.modulesPayload,customer:t.customer,"is-attention-wanted":""},on:{"update:couponCode":function(e){t.localDiscountCoupon=e},"update:coupon-code":function(e){t.localDiscountCoupon=e},"set-discount-rule":function(e){return t.$emit("set-discount-rule",e)}}})]:t._e()],2),a("div",{staticClass:"checkout__notes mt-4 mb-auto"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"order-notes"}},[t._v(t._s(t.i19additionalComments))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.localNotes,expression:"localNotes"}],staticClass:"form-control",attrs:{placeholder:t.i19orderNotesInputMsg,id:"order-notes",rows:"3",maxlength:"255"},domProps:{value:t.localNotes},on:{input:function(e){e.target.composing||(t.localNotes=e.target.value)}}})])]),a("div",{staticClass:"checkout__back"},[a("a",{staticClass:"btn btn-sm btn-light",attrs:{href:t.cartUrl}},[a("i",{staticClass:"i-chevron-left mr-1"}),t._v(" "+t._s(t.i18n("BackToCart"))+" ")])])],1)])]),t.canRecommendItems?[a("recommended-items",{ref:"offers",staticClass:"mt-5 pt-lg-3 mx-xl-3",attrs:{"sort-order":"offers","can-load-more":!1,"row-class-name":"row mt-4","product-card-props":{buyText:t.i19addToCart}},on:{"recommend-items":function(e){t.hasMoreOffers=!0}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v(" "+t._s(t.i19buyAlsoMsg)+" "),a("small",{staticClass:"d-block text-muted"},[t._v(" "+t._s(t.i19selectedOffers)+" ")])])]},proxy:!0}],null,!1,1215317570)}),a("button",{staticClass:"checkout__btn-top btn btn-link",on:{click:t.goToTop}},[a("i",{staticClass:"i-chevron-up mr-1"}),t._v(" "+t._s(t.i19checkout)+" ")])]:t._e()],2):t.isUserIdentified||t.isExternalAuth?a("div",{key:"account",staticClass:"checkout__account"},[t._t("account",(function(){return[a("p",{staticClass:"lead"},[t._v(" "+t._s(t.i18n("RegisterToBuy"))+": "),t.isExternalAuth?a("small",{staticClass:"d-block"},[t._v(" J√° possui conta? "),a("a",{attrs:{href:"/app/account"}},[t._v("Receber link de acesso por e-mail")])]):t._e()]),a("account-form",{attrs:{customer:t.localCustomer,"is-short":!0},on:{"update:customer":function(e){t.localCustomer=e}}})]}))],2):a("div",{key:"login"},[t._t("login",(function(){return[a("login-block",{attrs:{"customer-email":t.customerEmail},on:{login:t.login,update:function(e){t.isUserIdentified=!0},"update:customerEmail":function(e){t.customerEmail=e},"update:customer-email":function(e){t.customerEmail=e}}})]}))],2)])],1)}),[],!1,null,null,null).exports},data:()=>({updateInterval:null,ecomPassport:null,checkoutStep:0,skipShippingApps:[]}),computed:{...Object(l.c)(["amount","shippingService","shippingZipCode","selectedAddress"]),cart:()=>o.a.data,checkoutMode(){const{mode:t}=this.$route.params;return t?t.toLowerCase():null},isLpCheckout(){return"lp"===this.checkoutMode},isGuestCheckout(){return this.isLpCheckout?"object"!=typeof window||void 0===window.ecomGuestCheckout||Boolean(window.ecomGuestCheckout):"guest"===this.checkoutMode},customer:{get(){return this.$store.getters.customer},set(t){if(this.setCustomer(t),t._id){const{ecomPassport:t}=this;t&&t.checkAuthorization()&&this.saveCustomer({ecomPassport:t})}}},discountCoupon:{get(){return this.$store.getters.discountCoupon},set(t){this.setDiscountCoupon(t)}},shippingService:{get(){return this.$store.getters.shippingService},set(t){this.selectShippingService(t)}},paymentGateway:{get(){return this.$store.getters.paymentGateway},set(t){this.selectPaymentGateway(t)}},notes:{get(){return this.$store.getters.notes},set(t){this.setNotes(t)}}},methods:{...Object(l.d)(["triggerLoading","setFluidPage","setDiscountCoupon","setDiscountRule","setNotes","selectShippingService","selectPaymentGateway","setCustomer","selectAddress","addOrder"]),...Object(l.b)(["fetchCartItems","fetchCustomer","saveCustomer","sendCheckout"]),login(t){this.ecomPassport=t,this.triggerLoading(!0),this.fetchCustomer({ecomPassport:t}).finally((()=>this.triggerLoading(!1)))},checkout(t){const{customer:e}=this;this.triggerLoading(!0),this.sendCheckout({customer:e,transaction:t}).then((t=>{this.addOrder(t),this.$router.push({name:"confirmation",params:{id:t._id,number:t.number}})})).catch((t=>{if(t.response){const{data:e}=t.response;if(e&&"CKT901"===e.error_code)return this.$toast({title:Object(i.a)(s.vb),body:Object(i.a)(e.user_message),variant:"warning"}),void this.skipShippingApps.push(this.shippingService.app_id)}this.$toast({title:Object(i.a)(s.Sc),body:Object(i.a)(s.Tc),variant:"danger"})})).finally((()=>this.triggerLoading(!1)))}},watch:{checkoutStep(t,e){this.$router.push({params:{step:t}}),t&&!e&&this.setFluidPage(!0)}},created(){if(!this.isLpCheckout){const t=t=>this.fetchCartItems({removeOnError:!0,items:t}),e=e=>{let{item:a}=e;t([a])};o.a.on("addItem",e);const a=t=>{let{data:e}=t;e.items.length||this.$router.push({name:"cart"})};this.updateInterval=setInterval(t,6e5),this.triggerLoading(!0),t().then((()=>{o.a.data.flags||(o.a.data.flags=[]),-1===o.a.data.flags.indexOf("open-checkout")&&o.a.data.flags.push("open-checkout");const t=()=>{r.a.checkAuthorization()?Object(u.c)():r.a.once("login",t)};setTimeout(t,300)})).finally((()=>{this.triggerLoading(!1),a(o.a),o.a.on("change",a)})),this.$once("hook:beforeDestroy",(()=>{o.a.off("addItem",e),o.a.off("change",a)}))}},mounted(){var t=this;if(this.isLpCheckout){const e=this.$route.params.product;if(e){this.triggerLoading(!0);const s=function(){let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(n.g)({url:`/products/${e}.json`,axiosConfig:{timeout:6e3}}).then((e=>{let{data:s}=e;o.a.clear();let i=!1;const n=["variations","customizations","kit_composition"];for(let t=0;t<n.length;t++){const e=s[n[t]];if(e&&e.length){i=!0;break}}return i||o.a.addProduct(s),Promise.all([a.e(3),a.e(6),a.e(26)]).then(a.bind(null,267)).then((e=>{t.setFluidPage(!0),new c.a({render:t=>t(e.default,{props:{product:s,headingTag:"h3",galleryColClassName:"col-12 order-last mt-3",canAddToCart:i,hasBuyButton:i,isQuickview:!0}})}).$mount(t.$refs.product)}))})).catch((t=>{console.error(t),i||setTimeout((()=>s(!0)),800)})).finally((()=>t.triggerLoading(!1)))};s()}}},destroyed(){this.selectPaymentGateway(null),this.setFluidPage(!1),clearInterval(this.updateInterval)}}),ot=nt,rt=Object(y.a)(ot,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"checkout"}},[a("div",{staticClass:"row"},[t.isLpCheckout?a("div",{staticClass:"col-lg-4",class:t.cart.items.length?null:"offset-lg-4"},[a("div",{ref:"product"})]):t._e(),!t.isLpCheckout||t.cart.items.length?a("div",{staticClass:"col"},[a("ec-checkout",{attrs:{"is-guest-checkout":t.isGuestCheckout,"can-recommend-items":!t.isLpCheckout,"can-hide-summary":t.isLpCheckout,amount:t.amount,"checkout-step":t.checkoutStep,customer:t.customer,"shipping-zip-code":t.shippingZipCode,"shipping-service":t.shippingService,"skip-shipping-apps":t.skipShippingApps,"payment-gateway":t.paymentGateway,"discount-coupon":t.discountCoupon,notes:t.notes},on:{"update:checkoutStep":function(e){t.checkoutStep=e},"update:checkout-step":function(e){t.checkoutStep=e},login:t.login,"update:customer":function(e){t.customer=e},"address-selected":t.selectAddress,"update:shippingService":function(e){t.shippingService=e},"update:shipping-service":function(e){t.shippingService=e},"update:paymentGateway":function(e){t.paymentGateway=e},"update:payment-gateway":function(e){t.paymentGateway=e},"update:discountCoupon":function(e){t.discountCoupon=e},"update:discount-coupon":function(e){t.discountCoupon=e},"update:notes":function(e){t.notes=e},"set-discount-rule":t.setDiscountRule,checkout:t.checkout}})],1):t._e()]),t.isLpCheckout?a("div",[a("div",{ref:"description"})]):t._e()])}),[],!1,null,null,null);e.default=rt.exports}}]);